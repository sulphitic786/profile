"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[1178],{1178:(e,n,i)=>{i.r(n),i.d(n,{default:()=>k});var r=i(3560),t=i(3768),s=i(4535),l=i(6446),d=i(310),a=i(8977),c=i(2110),o=i(4882),x=i(8076),h=i(2420),p=i(3460),j=i(7392),A=i(8393),m=i(5043),g=i(3216),u=i(5475),f=i(6135),v=i(6208),y=i(579);const b=(0,s.Ay)(l.A)((e=>{let{theme:n}=e;return{margin:"30px",[n.breakpoints.down("sm")]:{margin:"16px"}}})),z=(0,s.Ay)("small")((e=>{let{theme:n,status:i}=e;return{borderRadius:"8px",padding:".3rem .5rem",..."delivered"===i&&{color:n.palette.primary.main,backgroundColor:(0,d.X4)(n.palette.primary.main,.1)},..."processing"===i&&{color:n.palette.secondary.main,backgroundColor:(0,d.X4)(n.palette.secondary.main,.1)},..."pending"===i&&{color:n.palette.error.main,backgroundColor:(0,d.X4)(n.palette.error.main,.1)}}})),k=()=>{const[e,n]=(0,m.useState)([]),[i,s]=(0,m.useState)(null),[l,d]=(0,m.useState)(!1),[k,w]=(0,m.useState)(!0),C=(0,g.Zp)();(0,m.useEffect)((()=>((0,f.LD)().then((e=>{k&&n(e.data)})),()=>w(!1))),[k]);return(0,y.jsxs)(b,{children:[(0,y.jsx)(u.N_,{to:"/invoice/add",children:(0,y.jsx)(a.A,{sx:{mb:2},variant:"contained",color:"primary",children:"Add Invoice"})}),(0,y.jsx)(c.A,{elevation:6,sx:{width:"100%",overflow:"auto"},children:(0,y.jsxs)(v.I,{sx:{minWidth:750},children:[(0,y.jsx)(o.A,{children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(h.A,{children:"Order No."}),(0,y.jsx)(h.A,{children:"Bill From"}),(0,y.jsx)(h.A,{children:"Bill To"}),(0,y.jsx)(h.A,{align:"center",children:"Status"}),(0,y.jsx)(h.A,{align:"center",children:"Actions"})]})}),(0,y.jsx)(p.A,{children:e.map((e=>(0,y.jsxs)(x.A,{children:[(0,y.jsx)(h.A,{align:"left",children:e.orderNo}),(0,y.jsx)(h.A,{align:"left",children:e.seller.name}),(0,y.jsx)(h.A,{align:"left",children:e.buyer.name}),(0,y.jsx)(h.A,{align:"center",children:(0,y.jsx)(z,{status:e.status,children:e.status})}),(0,y.jsxs)(h.A,{align:"center",children:[(0,y.jsx)(j.A,{onClick:()=>{return n=e.id,void C("/invoice/".concat(n));var n},children:(0,y.jsx)(r.A,{sx:{fontSize:20}})}),(0,y.jsx)(j.A,{onClick:()=>(e=>{s(e),d(!0)})(e),children:(0,y.jsx)(t.A,{sx:{fontSize:20}})})]})]},e.id)))})]})}),(0,y.jsx)(A.KK,{open:l,onConfirmDialogClose:()=>{d(!1)},onYesClick:()=>{(0,f.r$)(i).then((e=>{k&&(n(e.data),d(!1))}))},text:"Are you sure to delete?"})]})}},6135:(e,n,i)=>{i.d(n,{Dq:()=>a,Jx:()=>d,LD:()=>t,kc:()=>s,r$:()=>l});var r=i(7154);const t=()=>r.A.get("/api/invoices/all"),s=e=>r.A.get("/api/invoices",{data:e}),l=e=>r.A.post("/api/invoices/delete",e),d=e=>r.A.post("/api/invoices/add",e),a=e=>r.A.post("/api/invoices/update",e)},6208:(e,n,i)=>{i.d(n,{A:()=>C,I:()=>w});var r=i(4535),t=i(1806),s=i(6446),l=i(7392),d=i(4208),a=i(8977),c=i(9336),o=i(4882),x=i(8076),h=i(2420),p=i(3460),j=i(2351),A=i(3288),m=i(1121),g=i(5043),u=i(3216),f=i(5475),v=i(6135),y=i(579);const b=(0,r.Ay)(j.Ao)((()=>({paddingLeft:"16px",paddingRight:"16px",marginBottom:"20px",alignItems:"center","& button":{fontSize:"13px",textTransform:"capitalize"}}))),z=(0,r.Ay)("div")((()=>({textAlign:"right","& h5":{fontWeight:"500",textTransform:"capitalize"}}))),k=(0,r.Ay)(A.H5)((()=>({fontSize:15,"& span":{fontWeight:"normal"}}))),w=(0,r.Ay)(t.A)((e=>{let{theme:n}=e;return{"& thead":{"& tr":{background:n.palette.background.default,"& th":{paddingLeft:0,paddingRight:0},"& th:first-of-type":{paddingLeft:"24px !important",[n.breakpoints.down("sm")]:{paddingLeft:"16px !important"}}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"},"& td:first-of-type":{paddingLeft:"24px !important",[n.breakpoints.down("sm")]:{paddingLeft:"16px !important"}}}}}})),C=e=>{let{toggleInvoiceEditor:n}=e;const{id:i}=(0,u.g)(),[r,t]=(0,g.useState)({});(0,g.useEffect)((()=>{"add"!==i&&(0,v.kc)(i).then((e=>{t({...e.data})}))}),[i]);let C=0,{orderNo:S,buyer:L,seller:N,item:_=[],status:I,vat:M,date:T}=r;return(0,y.jsxs)(s.A,{py:2,className:"invoice-viewer",children:[(0,y.jsxs)(b,{className:"viewer_actions",children:[(0,y.jsx)(f.N_,{to:"/invoice/list",children:(0,y.jsx)(l.A,{children:(0,y.jsx)(d.A,{children:"arrow_back"})})}),(0,y.jsxs)("div",{children:[(0,y.jsx)(a.A,{sx:{mr:2,py:1},variant:"contained",color:"primary",onClick:()=>n(),children:"Edit Invoice"}),(0,y.jsx)(a.A,{sx:{py:1},onClick:()=>window.print(),variant:"contained",color:"secondary",children:"Print Invoice"})]})]}),(0,y.jsxs)("div",{id:"print-area",children:[(0,y.jsxs)(j.Ao,{px:2,mb:2,className:"viewer__order-info",children:[(0,y.jsxs)(s.A,{children:[(0,y.jsx)(k,{sx:{mb:1},children:"Order Info"}),(0,y.jsx)(A.fz,{sx:{mb:2},children:"Order Number"}),(0,y.jsxs)(A.fz,{children:["# ",S]})]}),(0,y.jsxs)(z,{children:[(0,y.jsxs)(k,{sx:{mb:1},children:[(0,y.jsx)("strong",{children:"Order status: "}),(0,y.jsx)("span",{children:I})]}),(0,y.jsxs)(k,{children:[(0,y.jsx)("strong",{children:"Order date: "}),(0,y.jsx)("span",{children:T?(0,m.GP)(new Date(T).getTime(),"MMMM dd, yyyy"):""})]})]})]}),(0,y.jsx)(c.A,{}),(0,y.jsxs)(j.Ao,{px:2,py:"20px",mb:2,className:"viewer__billing-info",children:[(0,y.jsxs)(s.A,{children:[(0,y.jsx)(k,{sx:{mb:1},children:"Bill From"}),(0,y.jsx)(A.fz,{sx:{mb:2},children:N?N.name:null}),(0,y.jsx)(A.fz,{sx:{whiteSpace:"pre"},children:N?N.address:null})]}),(0,y.jsxs)(s.A,{width:"100%",textAlign:"right",children:[(0,y.jsx)(k,{sx:{mb:1},children:"Bill To"}),(0,y.jsx)(A.fz,{sx:{mb:2},children:L?L.name:null}),(0,y.jsx)(A.fz,{sx:{whiteSpace:"pre"},children:L?L.address:null})]})]}),(0,y.jsxs)(w,{children:[(0,y.jsx)(o.A,{children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(h.A,{children:"#"}),(0,y.jsx)(h.A,{align:"center",children:"Item Name"}),(0,y.jsx)(h.A,{align:"center",children:"Unit Price"}),(0,y.jsx)(h.A,{align:"center",children:"Unit"}),(0,y.jsx)(h.A,{align:"center",children:"Cost"})]})}),(0,y.jsx)(p.A,{children:_.map(((e,n)=>(C+=e.unit*e.price,(0,y.jsxs)(x.A,{children:[(0,y.jsx)(h.A,{align:"left",children:n+1}),(0,y.jsx)(h.A,{align:"center",children:e.name}),(0,y.jsxs)(h.A,{align:"center",children:["$",e.price]}),(0,y.jsx)(h.A,{align:"center",children:e.unit}),(0,y.jsxs)(h.A,{align:"center",children:["$",e.unit*e.price]})]},n))))})]}),(0,y.jsxs)(s.A,{px:2,py:1,maxWidth:300,marginLeft:"auto",children:[(0,y.jsxs)(j.Ao,{my:2,children:[(0,y.jsx)(A.fz,{children:"Sub Total:"}),(0,y.jsxs)(A.fz,{children:["$",C]})]}),(0,y.jsxs)(j.Ao,{my:2,children:[(0,y.jsx)(A.fz,{children:"Vat(%):"}),(0,y.jsx)(A.fz,{children:M})]}),(0,y.jsxs)(j.Ao,{children:[(0,y.jsx)(A.H5,{children:"Grand Total:"}),(0,y.jsxs)(A.H5,{children:["$",C+=C*M/100]})]})]})]})]})}},3768:(e,n,i)=>{i.d(n,{A:()=>s});var r=i(6734),t=i(579);const s=(0,r.A)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},3560:(e,n,i)=>{i.d(n,{A:()=>s});var r=i(6734),t=i(579);const s=(0,r.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=1178.28dc9d21.chunk.js.map