"use strict";(self.webpackChunkhttps_github_com_sulphitic786_profile=self.webpackChunkhttps_github_com_sulphitic786_profile||[]).push([[3912],{83555:(e,t,i)=>{i.r(t),i.d(t,{default:()=>W});var n=i(93078),l=i(67075),a=i(94828),o=i(50766),r=i(35226),s=i(85537),c=i(79324),d=i(72274),u=i(90923),m=i(87149),h=i(60257),p=i(19370),g=i(28611),v=i(6175),x=i(67888),j=i(82395),y=i(36436),b=i(60579),_=i(38703),f=i(29867),C=i(56873),Z=i(23949),w=(i(35690),i(73479)),B=i(92834);const P=(0,n.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),S=(0,n.ZP)(l.Z)({marginBottom:"16px"}),k=(0,n.ZP)("form")({paddingLeft:"16px",paddingRight:"16px"}),D=(0,n.ZP)(x.Kl)((e=>{let{isDragActive:t,theme:i}=e;return{height:160,width:"100%",cursor:"pointer",borderRadius:"4px",marginBottom:"16px",transition:"all 350ms ease-in-out",border:"2px dashed rgba(".concat((0,y.Q5)(i.palette.text.primary),", 0.3)"),"&:hover":{background:"rgb(".concat((0,y.Q5)(i.palette.text.primary),", 0.2) !important")},background:t?"rgb(0, 0, 0, 0.15)":"rgb(0, 0, 0, 0.01)"}})),E=["active","inactive"],T=["Dashboard","E-commerce","Blogs","Portfolios","Business","Educational","Personal","Non-profit and Charity","Government","Travel and Tourism","Real Estate","Technology","Health and Wellness","News and Information","Media and Entertainment","Social Networking"],W=e=>{const[t,i]=(0,f.useState)([]),[n,l]=(0,f.useState)([]),[W,z]=(0,f.useState)(!1),{getRootProps:q,getInputProps:N,acceptedFiles:I}=(0,C.uI)({accept:{"image/*":[".jpg",".png"]}}),{showAlert:R}=(0,_.V)(),A=(0,p.cF)();let H=null===e||void 0===e?void 0:e.updateData;const J=w.Ry().shape({name:w.Z_().required("Name is required!"),technology:w.Z_().required("Technology (Like -> Html, Css) is required!"),category:w.Z_().required("Category is required!"),status:w.Z_().required("Status is required!"),description:w.Z_().required("Description is required!")});let U={name:(null===H||void 0===H?void 0:H.name)||"",live_url:(null===H||void 0===H?void 0:H.live_url)||"",client:(null===H||void 0===H?void 0:H.client)||"",client_region:(null===H||void 0===H?void 0:H.client_region)||"",client_email:(null===H||void 0===H?void 0:H.client_email)||"",client_phone:(null===H||void 0===H?void 0:H.client_phone)||"",description:(null===H||void 0===H?void 0:H.description)||"",category:(null===H||void 0===H?void 0:H.category)||"",status:(null===H||void 0===H?void 0:H.status)||"",technology:(null===H||void 0===H?void 0:H.technology)||"",images:(null===H||void 0===H?void 0:H.images)||[],project_duration:(null===H||void 0===H?void 0:H.project_duration)||[],description:(null===H||void 0===H?void 0:H.description)||"",created_at:(null===H||void 0===H?void 0:H.created_at)||(0,y.hA)(),updated_at:(0,y.hA)()};(0,f.useEffect)((()=>{null!==H&&void 0!==H&&H.project_duration&&l(null===H||void 0===H?void 0:H.project_duration)}),[H]),(0,f.useEffect)((()=>{i(I)}),[I]);const L=async t=>{z(!0);try{const i=[];await Promise.all(I.map((async e=>{const t=(0,p.iH)(A,"project-files/"+e.name);await(0,p.KV)(t,e);const n=await(0,p.Jt)(t);i.push(n)})));const n={...t,images:i};await(0,g.ET)((0,g.hJ)(v.DU,"projects"),n),R("success","Project data added successfully!"),z(!1),e.fetchData(),e.back()}catch(i){z(!1),R("error","Error while adding project data!"),console.error("Error uploading images:",i)}},V=async t=>{z(!0);try{const i=[];null!==I&&void 0!==I&&I.length&&await Promise.all(I.map((async e=>{const t=(0,p.iH)(A,"project-files/"+e.name);await(0,p.KV)(t,e);const n=await(0,p.Jt)(t);i.push(n)})));const n=(0,g.JU)(v.DU,"projects",H.id);await(0,g.r7)(n,{...t,images:i.length?i:t.images}),z(!1),R("success","Project data updated successfully!"),e.fetchData(),e.back()}catch(i){z(!1),R("error","Error while updating project data!"),console.error("Error uploading images:",i)}};return(0,B.jsxs)(P,{children:[W&&(0,B.jsx)(h.Wx,{}),(0,B.jsxs)(a.Z,{elevation:3,children:[(0,B.jsx)(o.Z,{p:2,display:"flex",children:(0,B.jsx)(j.H4,{children:"update"==(null===e||void 0===e?void 0:e.action)?"Update Project":"Add New Project"})}),(0,B.jsx)(r.Z,{sx:{mb:3}}),(0,B.jsx)(b.J9,{onSubmit:async t=>{t.project_duration=n,"update"==(null===e||void 0===e?void 0:e.action)?V(t):L(t)},initialValues:U,validationSchema:J,children:i=>{let{values:a,errors:o,touched:h,resetForm:p,handleChange:g,handleBlur:v,handleSubmit:j}=i;return(0,B.jsxs)(k,{onSubmit:j,children:[(0,B.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,B.jsxs)(s.ZP,{item:!0,sm:6,xs:12,children:[(0,B.jsx)(S,{fullWidth:!0,name:"name",label:"Name *",size:"small",variant:"outlined",onBlur:v,onChange:g,value:a.name||"",error:Boolean(h.name&&o.name),helperText:h.name&&o.name}),(0,B.jsx)(S,{fullWidth:!0,size:"small",name:"live_url",variant:"outlined",label:"Live Url",onChange:g,value:a.live_url||""}),(0,B.jsx)(Z.Z,{options:{mode:"range"},className:"form-control mb-3",name:"project_duration",placeholder:"Project Duration",value:n,onChange:e=>{var t,i;const n=null===(t=e[0])||void 0===t?void 0:t.toISOString(),a=null===(i=e[1])||void 0===i?void 0:i.toISOString();l([n,a])}}),(0,B.jsx)(S,{select:!0,fullWidth:!0,size:"small",name:"status",label:"Status *",variant:"outlined",onBlur:v,onChange:g,value:a.status||"",error:Boolean(h.status&&o.status),helperText:h.status&&o.status,children:E.sort().map((e=>(0,B.jsx)(c.Z,{value:e,children:e},e)))}),(0,B.jsx)(S,{fullWidth:!0,rows:2,multiline:!0,size:"small",name:"technology",variant:"outlined",label:"Technology or Language *",onBlur:v,onChange:g,value:a.technology||"",error:Boolean(h.technology&&o.technology),helperText:h.technology&&o.technology}),(0,B.jsxs)(D,{...q(),children:[(0,B.jsx)("input",{...N()}),(0,B.jsxs)(x.hs,{alignItems:"center",flexDirection:"column",children:[(0,B.jsx)(d.Z,{sx:{color:"text.secondary",fontSize:"48px"},children:"publish"}),t.length?(0,B.jsxs)("span",{children:[t.length," images were selected"]}):(0,B.jsx)("span",{children:"Drop project images"})]})]})]}),(0,B.jsxs)(s.ZP,{item:!0,sm:6,xs:12,children:[(0,B.jsx)(S,{select:!0,fullWidth:!0,size:"small",name:"category",label:"Category *",variant:"outlined",onBlur:v,onChange:g,value:a.category||"",error:Boolean(h.category&&o.category),helperText:h.category&&o.category,children:T.sort().map((e=>(0,B.jsx)(c.Z,{value:e,children:e},e)))}),(0,B.jsx)(S,{fullWidth:!0,name:"client",label:"Client",size:"small",variant:"outlined",onChange:g,value:a.client||""}),(0,B.jsx)(S,{fullWidth:!0,name:"client_region",size:"small",label:"Client Region",variant:"outlined",onChange:g,value:a.client_region||""}),(0,B.jsx)(S,{fullWidth:!0,size:"small",type:"email",name:"client_email",label:"Client Email",variant:"outlined",onChange:g,value:a.client_email||"",onBlur:v,error:Boolean(h.client_email&&o.client_email),helperText:h.client_email&&o.client_email}),(0,B.jsx)(S,{fullWidth:!0,size:"small",type:"number",name:"client_phone",label:"Client Phone",variant:"outlined",onChange:g,value:a.client_phone||""}),(0,B.jsx)(S,{fullWidth:!0,rows:5,multiline:!0,size:"small",name:"description",variant:"outlined",label:"Description *",value:a.description||"",onChange:g,onBlur:v,error:Boolean(h.description&&o.description),helperText:h.description&&o.description})]})]}),(0,B.jsx)(r.Z,{sx:{mb:2}}),(0,B.jsxs)(u.Z,{direction:"row",className:"mb-3",spacing:2,justifyContent:"flex-end",children:[(0,B.jsx)(m.Z,{variant:"outlined",color:"secondary",onClick:()=>e.back(),children:"Cancel"}),(0,B.jsx)(m.Z,{type:"submit",color:"primary",variant:"contained",justifyContent:"flex-end",sx:{mb:2,px:6},children:"Submit"})]})]})}})]})]})}}}]);
//# sourceMappingURL=3912.9dbdf628.chunk.js.map