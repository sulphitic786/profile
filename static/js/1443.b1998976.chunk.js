"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[1443],{1443:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var r=a(5043),s=a(4535),n=a(2788),o=a(7739),i=a(4208),l=a(8977),d=a(3336),c=a(8393),u=a(8786),m=a(7068),p=a(9787),h=a(6032),x=a(4457),v=a(718),f=a(3216),g=a(3812),b=a(35),y=a(6446),A=a(8903),j=a(2143),w=a(4912),C=a(3288),k=a(3516),S=a(899),N=a(579);const F=(0,s.Ay)(n.A)({marginBottom:16}),I=(0,s.Ay)(F)({minWidth:"100% !important","& label":{fontSize:"14px",textTransform:"capitalize"},"& label.MuiInputLabel-shrink":{marginTop:"0px"},"& .MuiOutlinedInput-root":{"& .MuiOutlinedInput-input":{fontSize:"14px",padding:"16px 14px !important",textTransform:"capitalize"}}}),M=S.Ik().shape({name:S.Yj().min(3,"Minimum 3 characters required!").required("Name is required!"),email:S.Yj().email().required("Email is required!"),phone:S.Yj().min(9).max(11).required("Phone is required!"),gender:S.Yj().required("Gender is required!"),password:S.Yj().min(6,"Minimum 6 letters required!").required("Password is required!")}),T=e=>{let{open:t,handleClose:a,addUpdateData:r,action:s,addUser:n,updateUser:o}=e,i={name:(null===r||void 0===r?void 0:r.name)||"",email:(null===r||void 0===r?void 0:r.email)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",gender:(null===r||void 0===r?void 0:r.gender)||"",roles:(null===r||void 0===r?void 0:r.roles)||"",password:(null===r||void 0===r?void 0:r.password)||"",isActive:(null===r||void 0===r?void 0:r.isActive)||!0};const d=["male","female"],c=["admin","client","super admin"];return(0,N.jsx)(b.A,{onClose:a,open:t,children:(0,N.jsxs)(y.A,{p:3,children:[(0,N.jsx)(C.H4,{sx:{mb:"20px"},children:"update"==s?"Update User":"Add User"}),(0,N.jsx)(k.l1,{onSubmit:async e=>{"update"==s?o(e):n(e)},initialValues:i,validationSchema:M,children:e=>{let{values:t,errors:n,touched:o,handleChange:i,handleSubmit:u,handleBlur:m}=e;return(0,N.jsxs)("form",{onSubmit:u,children:[(0,N.jsxs)(A.Ay,{sx:{mb:"16px"},container:!0,spacing:4,children:[(0,N.jsxs)(A.Ay,{item:!0,sm:6,xs:12,children:[(0,N.jsx)(F,{fullWidth:!0,type:"text",name:"name",label:"Name",value:t.name,onBlur:m,onChange:i,helperText:o.name&&n.name,error:Boolean(n.name&&o.name)}),"add"==s?(0,N.jsx)(F,{fullWidth:!0,type:"text",name:"email",label:"Email",onBlur:m,value:t.email,onChange:i,helperText:o.email&&n.email,error:Boolean(n.email&&o.email)}):"",(0,N.jsx)(F,{fullWidth:!0,type:"text",name:"phone",label:"Phone",value:t.phone,onChange:i,onBlur:m,helperText:o.phone&&n.phone,error:Boolean(n.phone&&o.phone)}),(null===r||void 0===r?void 0:r.password)!==(null===t||void 0===t?void 0:t.password)&&"update"==s?(0,N.jsx)(F,{fullWidth:!0,type:"text",name:"currant_password",label:"Currant User's Password",value:t.currant_password,onChange:i}):""]}),(0,N.jsxs)(A.Ay,{item:!0,sm:6,xs:12,children:[(0,N.jsx)(I,{select:!0,label:"Gender",size:"small",id:"inputField",variant:"outlined",name:"gender",value:t.gender||"",onChange:i,children:null===d||void 0===d?void 0:d.map((e=>(0,N.jsx)(j.A,{value:e,children:e},e)))}),(0,N.jsx)(I,{select:!0,label:"Role",size:"small",id:"inputField",variant:"outlined",name:"roles",value:t.roles||[],onChange:i,children:null===c||void 0===c?void 0:c.map((e=>(0,N.jsx)(j.A,{value:e,children:e},e)))}),(0,N.jsx)(F,{fullWidth:!0,type:"text",name:"password",label:"Password",value:t.password,onChange:i,onBlur:m,helperText:o.password&&n.password,error:Boolean(n.password&&o.password)})]})]}),(0,N.jsxs)(w.A,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,N.jsx)(l.A,{variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,N.jsx)(l.A,{variant:"outlined",color:"secondary",onClick:()=>a(),children:"Cancel"})]})]})}})]})})},W=(0,s.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),O=(0,s.Ay)("small")((e=>{let{bgcolor:t}=e;return{height:20,width:60,color:"#fff",padding:"3px 8px",textAlign:"center",borderRadius:"4px",overflow:"hidden",background:t,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),B=e=>{let{filterText:t,onFilter:a}=e;return(0,N.jsx)(n.A,{placeholder:"Search Input",label:"Quick Search",value:t,onChange:a,id:"search",className:""})},U=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,b]=(0,r.useState)(""),[y,A]=(0,r.useState)(""),[j,w]=(0,r.useState)(""),[C,k]=(0,r.useState)(!1),[S,F]=(0,r.useState)(!1),{showAlert:I}=(0,g.M)();(0,r.useEffect)((()=>{E()}),[]);const M=()=>{k(!1),F(!1)},U=(e,t)=>{A(t),w(e),k(!0)},E=async()=>{try{s(!0);const e=(await(0,h.GG)((0,h.rJ)(v.ed,"users"))).docs.map((e=>({id:e.id,...e.data()})));s(!1),t(e),console.log("dataFromFirebase",e),I("success","Data fetch successfully.")}catch(e){s(!1),I("error","Error while fetching data."),console.error("Error fetching data:",e)}},G=((0,f.Zp)(),[{name:"Name",sortable:!0,minWidth:"100px",sortField:"name",selector:e=>e.name,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:e.name})})},{name:"Phone",sortable:!0,minWidth:"100px",sortField:"phone",selector:e=>e.phone,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:e.phone})})},{name:"Email",sortable:!0,minWidth:"180px",sortField:"email",selector:e=>e.email,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:e.email})})},{name:"Role",sortable:!0,minWidth:"100px",sortField:"role",selector:e=>e.roles,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:e.roles})})},{name:"Gender",sortable:!0,minWidth:"100px",sortField:"gender",selector:e=>e.gender,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:e.gender})})},{name:"Status",sortable:!0,minWidth:"100px",sortField:"status",selector:e=>e.status,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)(O,{bgcolor:(0,p.yW)(e.isActive?"lightSuccess":"lightError"),children:e.isActive?"Active":"Inactive"})})},{name:"Password",sortable:!0,minWidth:"100px",sortField:"password",selector:e=>e.password,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:e.password})})},{name:"Date",sortable:!0,minWidth:"100px",sortField:"date",selector:e=>null===e||void 0===e?void 0:e.created_at,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,N.jsx)("div",{className:"d-flex flex-column",children:(0,p.zT)(e.created_at)})})},{name:"Action",sortable:!0,minWidth:"100px",sortField:"date",selector:e=>e,cell:e=>(0,N.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,N.jsxs)("div",{className:"d-flex ",children:[(0,N.jsx)(o.A,{title:"Edit/Update User",children:(0,N.jsx)(i.A,{onClick:()=>U("update",e),color:"success",fontSize:"small",style:{cursor:"pointer"},children:"edit"})}),(0,N.jsx)(o.A,{title:"Delete Request",children:(0,N.jsx)(i.A,{onClick:()=>{return t=e,console.log("model open",t),A(t),void F(!0);var t},color:"error",fontSize:"small",style:{cursor:"pointer"},children:"delete_forever"})})]})})}]);if(e)var P=e.filter((e=>JSON.stringify(e).toLowerCase().includes(n.toLowerCase())));return(0,N.jsxs)(W,{children:[a&&(0,N.jsx)(c.Tr,{}),(0,N.jsx)("div",{className:"breadcrumb",children:(0,N.jsx)(c.Qp,{routeSegments:[{name:"Pages",path:"/pages"},{name:"contact-us-list"}]})}),(0,N.jsx)(d.A,{sx:{width:"100%",overflowX:"scroll"},children:(0,N.jsx)(u.Ay,{responsive:!0,striped:!0,highlightOnHover:!0,persistTableHead:!0,subHeader:!0,fixedHeader:!0,fixedHeaderScrollHeight:"50vh",columns:G,data:P,className:"react-dataTable",pagination:!0,subHeaderComponent:(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"mt-1",style:{width:"-webkit-fill-available"},children:[(0,N.jsx)(l.A,{color:"primary",variant:"contained",sx:{mt:"6px !important"},style:{float:"left"},onClick:()=>U("add"),children:"+ Add New User"}),(0,N.jsx)(B,{className:"justify-content-end",onFilter:e=>b(e.target.value),filterText:n})]})}),paginationPerPage:250,paginationRowsPerPageOptions:[25,50,75,100]})}),C&&(0,N.jsx)(T,{action:j,addUpdateData:y,open:C,handleClose:M,addUser:async e=>{try{s(!0);const t=(0,x.xI)(),a=(await(0,x.eJ)(t,e.email,e.password)).user.uid,r={...e,created_at:new Date,updated_at:new Date,user_id:a};await(0,h.gS)((0,h.rJ)(v.ed,"users"),r),I("success","User added successfully."),s(!1),E(),M()}catch(t){s(!1),I("error","Error while adding user."),console.error("Error adding user to Firebase:",t)}},updateUser:async e=>{console.log("currentUser",y,"userData",e);try{s(!0);const t=(0,x.xI)(),a=t.currentUser.email,r={...e,updated_at:new Date},n=x.IX.credential(a,e.currant_password);e.password!==y.password?(console.log("password update"),await(0,x.kZ)(t.currentUser,n),await(0,x.f3)(t.currentUser,e.password),await(0,h.mZ)((0,h.H9)(v.ed,"users",y.id),r)):(console.log("user update"),await(0,h.mZ)((0,h.H9)(v.ed,"users",y.id),r)),I("success","User updated successfully."),M(),s(!1),E()}catch(t){s(!1),I("error","Error while updating user."),console.error("Error updating user:",t)}}}),S&&(0,N.jsx)(m.A,{text:"Are you sure to delete?",open:S,onConfirmDialogClose:M,onYesClick:async()=>{try{s(!0),await(0,h.kd)((0,h.H9)(v.ed,"users",y.id)),I("success","Data deleted successfully."),F(!1),s(!1),E()}catch(e){s(!1),I("error","Error while deleting request."),console.error("Error deleting data from Firebase:",e)}}})]})}},1424:(e,t,a)=>{a.d(t,{A:()=>o,f:()=>n});var r=a(7056),s=a(2400);function n(e){return(0,s.Ay)("MuiListItemIcon",e)}const o=(0,r.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},8052:(e,t,a)=>{a.d(t,{A:()=>o,b:()=>n});var r=a(7056),s=a(2400);function n(e){return(0,s.Ay)("MuiListItemText",e)}const o=(0,r.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},2143:(e,t,a)=>{a.d(t,{A:()=>k});var r=a(8587),s=a(8168),n=a(5043),o=a(8387),i=a(8606),l=a(310),d=a(4535),c=a(2876),u=a(1347),m=a(6236),p=a(5013),h=a(5849),x=a(5658),v=a(1424),f=a(8052),g=a(7056),b=a(2400);function y(e){return(0,b.Ay)("MuiMenuItem",e)}const A=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=a(579);const w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,d.Ay)(m.A,{shouldForwardProp:e=>(0,d.ep)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(A.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(A.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(A.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(A.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(A.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(x.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(x.A.inset)]:{marginLeft:52},["& .".concat(f.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(f.A.inset)]:{paddingLeft:36},["& .".concat(v.A.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,s.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(v.A.root," svg")]:{fontSize:"1.25rem"}}))})),k=n.forwardRef((function(e,t){const a=(0,c.A)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:m=!1,divider:x=!1,disableGutters:v=!1,focusVisibleClassName:f,role:g="menuitem",tabIndex:b,className:A}=a,k=(0,r.A)(a,w),S=n.useContext(u.A),N=n.useMemo((()=>({dense:m||S.dense||!1,disableGutters:v})),[S.dense,m,v]),F=n.useRef(null);(0,p.A)((()=>{l&&F.current&&F.current.focus()}),[l]);const I=(0,s.A)({},a,{dense:N.dense,divider:x,disableGutters:v}),M=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:n,selected:o,classes:l}=e,d={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",o&&"selected"]},c=(0,i.A)(d,y,l);return(0,s.A)({},l,c)})(a),T=(0,h.A)(F,t);let W;return a.disabled||(W=void 0!==b?b:-1),(0,j.jsx)(u.A.Provider,{value:N,children:(0,j.jsx)(C,(0,s.A)({ref:T,role:g,tabIndex:W,component:d,focusVisibleClassName:(0,o.A)(M.focusVisible,f),className:(0,o.A)(M.root,A)},k,{ownerState:I,classes:M}))})}))},4912:(e,t,a)=>{a.d(t,{A:()=>S});var r=a(8587),s=a(8168),n=a(5043),o=a(8387),i=a(835),l=a(8606),d=a(2400);const c=(0,a(920).Ay)();var u=a(2900),m=a(8698),p=a(7322),h=a(9751),x=a(8604),v=a(579);const f=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,p.A)(),b=c("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,u.A)({props:e,name:"MuiStack",defaultTheme:g})}function A(e,t){const a=n.Children.toArray(e).filter(Boolean);return a.reduce(((e,r,s)=>(e.push(r),s<a.length-1&&e.push(n.cloneElement(t,{key:"separator-".concat(s)})),e)),[])}const j=e=>{let{ownerState:t,theme:a}=e,r=(0,s.A)({display:"flex",flexDirection:"column"},(0,h.NI)({theme:a},(0,h.kW)({values:t.direction,breakpoints:a.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,x.LX)(a),s=Object.keys(a.breakpoints.values).reduce(((e,a)=>(("object"===typeof t.spacing&&null!=t.spacing[a]||"object"===typeof t.direction&&null!=t.direction[a])&&(e[a]=!0),e)),{}),n=(0,h.kW)({values:t.direction,base:s}),o=(0,h.kW)({values:t.spacing,base:s});"object"===typeof n&&Object.keys(n).forEach(((e,t,a)=>{if(!n[e]){const r=t>0?n[a[t-1]]:"column";n[e]=r}}));const l=(a,r)=>{return t.useFlexGap?{gap:(0,x._W)(e,a)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((s=r?n[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s]))]:(0,x._W)(e,a)}};var s};r=(0,i.A)(r,(0,h.NI)({theme:a},o,l))}return r=(0,h.iZ)(a.breakpoints,r),r};var w=a(4535),C=a(2876);const k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=b,useThemeProps:a=y,componentName:i="MuiStack"}=e,c=t(j),u=n.forwardRef((function(e,t){const n=a(e),u=(0,m.A)(n),{component:p="div",direction:h="column",spacing:x=0,divider:g,children:b,className:y,useFlexGap:j=!1}=u,w=(0,r.A)(u,f),C={direction:h,spacing:x,useFlexGap:j},k=(0,l.A)({root:["root"]},(e=>(0,d.Ay)(i,e)),{});return(0,v.jsx)(c,(0,s.A)({as:p,ownerState:C,ref:t,className:(0,o.A)(k.root,y)},w,{children:g?A(b,g):b}))}));return u}({createStyledComponent:(0,w.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,C.A)({props:e,name:"MuiStack"})}),S=k}}]);
//# sourceMappingURL=1443.b1998976.chunk.js.map