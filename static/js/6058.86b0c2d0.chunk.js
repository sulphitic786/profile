"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[6058],{6058:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var i=n(4535),a=n(2110),s=n(2788),l=n(9336),r=n(8903),o=n(2143),c=n(6446),d=n(8977),m=n(4208),u=n(2351),p=n(3288),x=n(3516),h=n(7154);const g=e=>{if(!e.discount)return e.price*e.quantity||0;if("$"===e.discountType){return e.price*e.quantity-e.discount||0}{let t=e.price*e.quantity;return t-t*e.discount/100||0}};var A=n(2420),v=n(1806),j=n(4882),y=n(8076),b=n(3460),f=n(8624),C=n(2221),S=n(7392),I=n(5043),N=n(579);const T=(0,i.Ay)("img")({width:48}),z=(0,i.Ay)(A.A)({padding:0}),F=(0,i.Ay)("div")({display:"flex",alignItems:"center"}),w=e=>{let{values:t,handleChange:n,setFieldValue:i}=e;const[a,l]=(0,I.useState)(!0),[r,u]=(0,I.useState)([]);return(0,I.useEffect)((()=>(h.A.get("/api/ecommerce/get-product-list").then((e=>{let{data:t}=e;a&&u(t)})),()=>l(!1))),[a]),(0,N.jsx)(x.ED,{name:"items",children:e=>{var i;return(0,N.jsxs)(c.A,{overflow:"auto",children:[(0,N.jsxs)(v.A,{sx:{whiteSpace:"pre",minWidth:750},children:[(0,N.jsx)(j.A,{children:(0,N.jsxs)(y.A,{children:[(0,N.jsx)(A.A,{colSpan:7,children:"Item Details"}),(0,N.jsx)(A.A,{colSpan:2,children:"Quantity "}),(0,N.jsx)(A.A,{colSpan:2,children:"Rate"}),(0,N.jsx)(A.A,{colSpan:2,children:"Discount"}),(0,N.jsx)(A.A,{colSpan:2,align:"center",children:"Amount"}),(0,N.jsx)(z,{colSpan:1,align:"center"})]})}),(0,N.jsx)(b.A,{children:null===(i=t.items)||void 0===i?void 0:i.map(((t,i)=>(0,N.jsxs)(y.A,{sx:{position:"relative"},children:[(0,N.jsx)(z,{colSpan:7,align:"left",children:(0,N.jsxs)(F,{children:[(0,N.jsx)(T,{alt:"",src:null===t||void 0===t?void 0:t.imgUrl}),(0,N.jsx)(f.A,{size:"small",sx:{width:"100%"},options:r,getOptionLabel:e=>e.title,renderInput:e=>(0,N.jsx)(s.A,{...e,variant:"outlined",fullWidth:!0}),onChange:(e,t)=>{n({target:{name:"items[".concat(i,"]"),value:t}})}})]})}),(0,N.jsx)(z,{colSpan:2,align:"left",children:(0,N.jsx)(s.A,{fullWidth:!0,size:"small",type:"number",variant:"outlined",onChange:n,name:"items[".concat(i,"].quantity"),defaultValue:t.quantity||""})}),(0,N.jsx)(z,{colSpan:2,align:"left",children:(0,N.jsx)(s.A,{fullWidth:!0,size:"small",type:"number",variant:"outlined",onChange:n,value:t.price||"",name:"items[".concat(i,"].price")})}),(0,N.jsx)(z,{colSpan:2,align:"left",children:(0,N.jsx)(s.A,{fullWidth:!0,size:"small",type:"number",variant:"outlined",onChange:n,value:t.discount||"",name:"items[".concat(i,"].discount"),InputProps:{style:{paddingRight:0},endAdornment:(0,N.jsxs)(C.A,{margin:"none",variant:"standard",onChange:n,value:t.discountType||"%",name:"items[".concat(i,"].discountType"),children:[(0,N.jsx)(o.A,{value:"$",children:"$"}),(0,N.jsx)(o.A,{value:"%",children:"%"})]})}})}),(0,N.jsx)(z,{colSpan:2,align:"center",children:g(t).toFixed(2)}),(0,N.jsx)(z,{colSpan:1,align:"center",children:(0,N.jsx)(S.A,{size:"small",onClick:()=>e.remove(i),children:(0,N.jsx)(m.A,{color:"error",fontSize:"small",children:"clear"})})})]},i)))})]}),(0,N.jsx)(d.A,{color:"primary",variant:"contained",sx:{mt:"16px !important"},onClick:()=>e.push({}),children:"+ Add New Item"})]})}})},k=(0,i.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}})),O=(0,i.Ay)(a.A)((e=>{let{theme:t}=e;return{padding:"16px",background:t.palette.background.default}})),M=(0,i.Ay)(s.A)({minWidth:"188px !important","& label":{fontSize:"14px"},"& label.MuiInputLabel-shrink":{marginTop:"0px"},"& .MuiOutlinedInput-root":{"& .MuiOutlinedInput-input":{fontSize:"14px",padding:"10px 14px !important"}}}),V=["NET 15","NET 30","NET 45","NET 60","Due end of the month","Due on receive"],L=["customer 1","customer 2","customer 3","customer 4","customer 5","customer 6","customer 7","customer 8"],W={customerType:"",otherField:"Adjustment"},D=()=>{const e=function(){let e=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{e+=g(t)})),e},t=t=>{let n=0;return n+=e(t.items),n+=t.shippingCharge||0,n+=t[t.otherField]||0,n};return(0,N.jsx)(k,{children:(0,N.jsxs)(a.A,{elevation:3,children:[(0,N.jsx)(p.H4,{p:2,children:"New Invoice"}),(0,N.jsx)(l.A,{sx:{mb:1}}),(0,N.jsx)(x.l1,{initialValues:W,onSubmit:async(e,t)=>{let{isSubmitting:n}=t;console.log(e)},enableReinitialize:!0,children:n=>{let{values:i,errors:a,touched:x,handleChange:h,handleBlur:g,handleSubmit:A,isSubmitting:v,setSubmitting:j,setFieldValue:y}=n;return(0,N.jsxs)("form",{style:{padding:"16px"},onSubmit:A,children:[(0,N.jsxs)(r.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,N.jsx)(r.Ay,{item:!0,md:2,sm:4,xs:12,children:"Customer Name"}),(0,N.jsx)(r.Ay,{item:!0,md:10,sm:8,xs:12,children:(0,N.jsx)(M,{select:!0,label:"Name",size:"small",id:"inputField",variant:"outlined",name:"customerName",value:i.customerName||"",onChange:h,children:L.map((e=>(0,N.jsx)(o.A,{value:e,children:e},e)))})}),(0,N.jsx)(r.Ay,{item:!0,md:2,sm:4,xs:12,children:"Invoice#"}),(0,N.jsx)(r.Ay,{item:!0,md:10,sm:8,xs:12,children:(0,N.jsx)(M,{size:"small",name:"invoiceNo",variant:"outlined",label:"Invoice No",onChange:h,value:i.invoiceNo,defaultValue:"INV-000001"})}),(0,N.jsx)(r.Ay,{item:!0,md:2,sm:4,xs:12,children:"Order Number"}),(0,N.jsx)(r.Ay,{item:!0,md:10,sm:8,xs:12,children:(0,N.jsx)(M,{size:"small",name:"orderNo",label:"Invoice No",variant:"outlined",value:i.orderNo,onChange:h})}),(0,N.jsx)(r.Ay,{item:!0,md:2,sm:4,xs:12,children:"Invoice Date"}),(0,N.jsx)(r.Ay,{item:!0,md:10,sm:8,xs:12,children:(0,N.jsx)(c.A,{m:-1,display:"flex",flexWrap:1,children:(0,N.jsx)(M,{select:!0,name:"terms",size:"small",label:"Terms",variant:"outlined",onChange:h,value:i.terms||"",sx:{m:"8px !important"},children:V.map((e=>(0,N.jsx)(o.A,{value:e,children:e},e)))})})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,children:(0,N.jsx)(l.A,{})}),(0,N.jsx)(r.Ay,{item:!0,md:2,sm:4,xs:12,children:"Salesperson Name"}),(0,N.jsx)(r.Ay,{item:!0,md:10,sm:8,xs:12,children:(0,N.jsx)(M,{select:!0,size:"small",variant:"outlined",name:"salesPersonName",onChange:h,label:"Salesperson Name",value:i.salesPersonName||"",children:L.map(((e,t)=>(0,N.jsx)(o.A,{value:e,children:e},e)))})}),(0,N.jsx)(r.Ay,{item:!0,xs:12,children:(0,N.jsx)(l.A,{})})]}),(0,N.jsx)(c.A,{mb:4,children:(0,N.jsx)(w,{values:i,setFieldValue:y,handleChange:h})}),(0,N.jsx)(c.A,{mb:4,children:(0,N.jsxs)(r.Ay,{container:!0,spacing:3,children:[(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(s.A,{rows:6,fullWidth:!0,multiline:!0,name:"notes",size:"small",variant:"outlined",label:"Custom Notes",value:i.notes,onChange:h})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(O,{elevation:0,children:(0,N.jsxs)(r.Ay,{container:!0,spacing:3,justify:"space-between",alignItems:"center",children:[(0,N.jsx)(r.Ay,{item:!0,xs:6,children:"Sub Total"}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(c.A,{textAlign:"right",children:e(i.items).toFixed(2)})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsxs)(u.pT,{alignItems:"center",children:[(0,N.jsx)(p.L9,{sx:{whiteSpace:"pre"},children:"Shipping Charges"}),(0,N.jsx)(M,{size:"small",type:"number",variant:"outlined",name:"shippingCharge",onChange:h,sx:{ml:"12px !important"},value:i.shippingCharge||""})]})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(c.A,{textAlign:"right",children:(i.shippingCharge||0).toFixed(2)})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsxs)(u.pT,{alignItems:"center",children:[(0,N.jsx)(M,{size:"small",name:"otherField",variant:"outlined",onChange:h,value:i.otherField||""}),(0,N.jsx)(M,{size:"small",type:"number",variant:"outlined",onChange:h,name:i.otherField,sx:{ml:"12px !important"},value:i[i.otherField]||""})]})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(c.A,{textAlign:"right",children:(i[i.otherField]||0).toFixed(2)})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(p.H4,{sx:{m:0},children:"Total ( $ )"})}),(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(c.A,{textAlign:"right",children:(0,N.jsx)(p.H4,{sx:{m:0},children:t(i).toFixed(2)})})})]})})})]})}),(0,N.jsx)(O,{elevation:0,children:(0,N.jsxs)(r.Ay,{container:!0,spacing:3,children:[(0,N.jsx)(r.Ay,{item:!0,xs:6,children:(0,N.jsx)(s.A,{rows:4,multiline:!0,fullWidth:!0,size:"small",variant:"outlined",name:"terms_conditions",onChange:h,label:"Terms & Conditions",value:i.terms_conditions})}),(0,N.jsxs)(r.Ay,{item:!0,xs:6,children:[(0,N.jsx)("label",{htmlFor:"upload-multiple-file",children:(0,N.jsx)(d.A,{color:"primary",component:"span",variant:"contained",sx:{textTransform:"capitalize"},children:(0,N.jsxs)(u.pT,{alignItems:"center",children:[(0,N.jsx)(m.A,{sx:{pr:4},children:"cloud_upload"}),(0,N.jsx)("span",{children:"Upload File"})]})})}),(0,N.jsx)("input",{multiple:!0,type:"file",id:"upload-multiple-file",style:{display:"none"},onChange:e=>y("files",e.target.files)})]})]})}),(0,N.jsx)(c.A,{mt:3,children:(0,N.jsx)(d.A,{color:"primary",variant:"contained",type:"submit",children:"Submit"})})]})}})]})})}},1424:(e,t,n)=>{n.d(t,{A:()=>l,f:()=>s});var i=n(7056),a=n(2400);function s(e){return(0,a.Ay)("MuiListItemIcon",e)}const l=(0,i.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},8052:(e,t,n)=>{n.d(t,{A:()=>l,b:()=>s});var i=n(7056),a=n(2400);function s(e){return(0,a.Ay)("MuiListItemText",e)}const l=(0,i.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},2143:(e,t,n)=>{n.d(t,{A:()=>I});var i=n(8587),a=n(8168),s=n(5043),l=n(8387),r=n(8606),o=n(310),c=n(4535),d=n(2876),m=n(1347),u=n(6236),p=n(5013),x=n(5849),h=n(5658),g=n(1424),A=n(8052),v=n(7056),j=n(2400);function y(e){return(0,j.Ay)("MuiMenuItem",e)}const b=(0,v.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var f=n(579);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],S=(0,c.Ay)(u.A,{shouldForwardProp:e=>(0,c.ep)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(b.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(b.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(b.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(b.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(b.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(h.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(h.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(g.A.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,a.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(g.A.root," svg")]:{fontSize:"1.25rem"}}))})),I=s.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:c="li",dense:u=!1,divider:h=!1,disableGutters:g=!1,focusVisibleClassName:A,role:v="menuitem",tabIndex:j,className:b}=n,I=(0,i.A)(n,C),N=s.useContext(m.A),T=s.useMemo((()=>({dense:u||N.dense||!1,disableGutters:g})),[N.dense,u,g]),z=s.useRef(null);(0,p.A)((()=>{o&&z.current&&z.current.focus()}),[o]);const F=(0,a.A)({},n,{dense:T.dense,divider:h,disableGutters:g}),w=(e=>{const{disabled:t,dense:n,divider:i,disableGutters:s,selected:l,classes:o}=e,c={root:["root",n&&"dense",t&&"disabled",!s&&"gutters",i&&"divider",l&&"selected"]},d=(0,r.A)(c,y,o);return(0,a.A)({},o,d)})(n),k=(0,x.A)(z,t);let O;return n.disabled||(O=void 0!==j?j:-1),(0,f.jsx)(m.A.Provider,{value:T,children:(0,f.jsx)(S,(0,a.A)({ref:k,role:v,tabIndex:O,component:c,focusVisibleClassName:(0,l.A)(w.focusVisible,A),className:(0,l.A)(w.root,b)},I,{ownerState:F,classes:w}))})}))}}]);
//# sourceMappingURL=6058.86b0c2d0.chunk.js.map