"use strict";(self.webpackChunkhttps_github_com_sulphitic786_profile=self.webpackChunkhttps_github_com_sulphitic786_profile||[]).push([[997],{64565:(t,e,a)=>{a.r(e),a.d(e,{default:()=>A});var s=a(66934),i=a(697),o=a(13400),n=a(99875),d=a(19538),l=a(85523),r=a(94454),h=a(20068),c=a(23786),p=a(81918),x=a(93006),g=a(61889),u=a(82880),m=a(53659),Z=a(98342),j=a(72791),f=a(57689),T=a(11087),b=a(13967),k=a(5289),D=a(30916),C=a(16748),S=a(37187),y=a(81543),v=a(80184);const w=t=>{let{open:e,handleClose:a}=t;const[s,o]=(0,j.useState)(""),[n,d]=(0,j.useState)([]),[l,r]=(0,j.useState)(!0),h=(0,j.useCallback)((async()=>{let{data:t}=await(0,y.x9)();l&&d(t)}),[l]);(0,j.useEffect)((()=>(h(),()=>r(!1))),[h]),(0,j.useEffect)((()=>()=>r(!1)),[]);const c=t=>{"Enter"===t.key?p():o(t.target.value)},p=async t=>{if(""!==s.trim()){let{data:t}=await(0,y.HO)({id:(0,S.D1)(),name:s.trim()});if(l){let e=[...n];e.push(t),d(e),o("")}}},{palette:g}=(0,b.Z)(),m=g.error.main;return(0,v.jsx)(k.Z,{onClose:a,open:e,maxWidth:"xs",children:(0,v.jsxs)(i.Z,{px:2,py:3,children:[(0,v.jsxs)(D.hs,{alignItems:"center",children:[(0,v.jsx)(x.Z,{value:s,size:"small",label:"New tag*",variant:"outlined",onChange:c,onKeyDown:c,sx:{flexGrow:1}}),(0,v.jsx)("div",{children:(0,v.jsx)(u.Z,{onClick:p,variant:"contained",color:"primary",children:"Add"})})]}),(0,v.jsx)(i.Z,{pt:2,children:n.map(((t,e)=>(0,v.jsxs)(D.$9,{my:1,children:[(0,v.jsx)("span",{children:e+1}),(0,v.jsx)(C.Dr,{sx:{textTransform:"capitalize"},children:t.name}),(0,v.jsx)(u.Z,{onClickCapture:()=>(async t=>{if(await(0,y.Pn)({id:t,name:s}),l){let e=n.filter((e=>e.id!==t));d([...e])}})(t.id),variant:"contained",sx:{background:m},children:"Delete"})]},t.id)))}),(0,v.jsx)(i.Z,{pt:2,textAlign:"right",children:(0,v.jsx)(u.Z,{onClick:a,variant:"outlined",color:"secondary",children:"Close"})})]})})},_=(0,s.ZP)("div")((t=>{let{theme:e}=t;return{margin:"30px",zIndex:2e3,background:"#fff",borderRadius:"4px",boxShadow:Z.v[5],[e.breakpoints.down("sm")]:{margin:"16px"}}})),z=(0,s.ZP)(i.Z)({display:"flex",flexWrap:"wrap",alignItems:"center"}),L=(0,s.ZP)(z)({paddingTop:"8px",paddingBottom:"8px",justifyContent:"space-between",background:"rgba(0, 0, 0, 0.01)"});class P extends j.Component{constructor(){super(...arguments),this.state={todo:{title:"",note:"",done:!1,read:!1,starred:!1,important:!1,startDate:new Date,dueDate:new Date,tag:[]},tagList:[],shouldOpenTagDialog:!1},this.addNewTodo=()=>{let t=this.state.tagList.length+1;(0,y.rk)({...this.state.todo,id:t}).then((()=>{this.props.navigate("/todo/list")}))},this.updateTodo=t=>{(0,y.yh)(t),this.setState({todo:{...this.state.todo,...t}})},this.reloadTagList=()=>{(0,y.x9)().then((t=>{let{data:e}=t;this.setState({tagList:[...e]})}))},this.addTagInTodo=t=>{let{tag:e}=this.state.todo;e.includes(t)||(e.push(t),this.setState({todo:{...this.state.todo,tag:e}}))},this.handleTagDelete=t=>{let{tag:e=[]}=this.state.todo;e=e.filter((e=>e!==t)),this.setState({todo:{...this.state.todo,tag:[...e]}},(()=>(0,y.yh)({...this.state.todo})))},this.handleTodoDelete=()=>{(0,y.aS)({...this.state.todo}).then((()=>{this.props.navigate("/todo/list")}))},this.handleChange=t=>{t.persist(),this.setState({todo:{...this.state.todo,[t.target.name]:t.target.value}})},this.handleDateChange=(t,e)=>{this.setState(this.setState({todo:{...this.state.todo,[t]:e}}))},this.handleSubmit=t=>{let{id:e}=this.props.params;"add"===e?this.addNewTodo():(0,y.yh)({...this.state.todo}).then((()=>{this.props.navigate("/todo/list")}))},this.handleTagDialogToggle=()=>{this.setState({shouldOpenTagDialog:!this.state.shouldOpenTagDialog})}}componentDidMount(){let{id:t}=this.props.params;(0,y.x9)().then((e=>{let{data:a}=e;"add"!==t?(0,y.qu)(t).then((t=>{let{data:e}=t;e?this.setState({todo:{...e},tagList:[...a]}):this.props.navigate("/todo/list")})):this.setState({tagList:a})}))}render(){let{title:t,note:e,done:a,read:s,starred:Z,important:j,startDate:f,dueDate:b,tag:k=[]}=this.state.todo,{tagList:D}=this.state;return(0,v.jsxs)(_,{children:[(0,v.jsxs)(L,{children:[(0,v.jsxs)(z,{children:[(0,v.jsx)(T.rU,{to:"/todo/list",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(n.Z,{children:"arrow_back"})})}),(0,v.jsx)(d.Z,{smDown:!0,children:(0,v.jsx)(l.Z,{sx:{ml:1},onChange:()=>this.updateTodo({...this.state,done:!a}),control:(0,v.jsx)(r.Z,{checked:a}),label:"Mark As ".concat(a?"Und":"D","one")})})]}),(0,v.jsxs)(i.Z,{display:"flex",flexWrap:"wrap",children:[(0,v.jsx)(h.Z,{title:"Mark As ".concat(s?"Unr":"R","ead"),fontSize:"large",children:(0,v.jsx)(o.Z,{onClick:()=>this.updateTodo({...this.state,read:!s}),children:(0,v.jsx)(n.Z,{children:s?"drafts":"markunread"})})}),(0,v.jsx)(h.Z,{title:"Mark As ".concat(j?"Uni":"I","mportant"),fontSize:"large",children:(0,v.jsx)(o.Z,{onClick:()=>this.updateTodo({...this.state,important:!j}),children:(0,v.jsx)(n.Z,{color:j?"error":"inherit",children:j?"error":"error_outline"})})}),(0,v.jsx)(h.Z,{title:"Mark As ".concat(Z?"Uns":"S","tarred"),fontSize:"large",children:(0,v.jsx)(o.Z,{onClick:()=>this.updateTodo({...this.state,starred:!Z}),children:(0,v.jsx)(n.Z,{color:Z?"secondary":"inherit",children:Z?"star":"star_outline"})})}),(0,v.jsx)(d.Z,{smDown:!0,children:(0,v.jsx)(h.Z,{title:"Manage tags",fontSize:"large",children:(0,v.jsx)(o.Z,{onClick:this.handleTagDialogToggle,children:(0,v.jsx)(n.Z,{children:"library_add"})})})}),(0,v.jsx)(m.$6,{menuButton:(0,v.jsx)(h.Z,{title:"Add tags",fontSize:"large",children:(0,v.jsx)(o.Z,{children:(0,v.jsx)(n.Z,{children:"label"})})}),children:this.state.tagList.map((t=>(0,v.jsx)(c.Z,{sx:{textTransform:"capitalize"},onClick:()=>this.addTagInTodo(t.id),children:t.name},t.id)))}),(0,v.jsx)(h.Z,{title:"Delete",fontSize:"large",children:(0,v.jsx)(o.Z,{onClick:this.handleTodoDelete,children:(0,v.jsx)(n.Z,{children:"delete_outline"})})})]})]}),(0,v.jsxs)(i.Z,{p:2,children:[k.length?(0,v.jsx)(i.Z,{mb:2,children:k.map((t=>{let e=(D.find((e=>e.id===t))||{}).name;return e?(0,v.jsx)(p.Z,{label:e,onDelete:()=>this.handleTagDelete(t),sx:{mr:1,textTransform:"capitalize"}},t):null}))}):null,(0,v.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,v.jsx)(x.Z,{fullWidth:!0,type:"text",name:"title",value:t,label:"Title*",onChange:this.handleChange,sx:{mb:2}}),(0,v.jsx)(x.Z,{fullWidth:!0,type:"text",name:"note",value:e,multiline:!0,label:"Put your notes*",onChange:this.handleChange,sx:{mb:2}}),(0,v.jsx)(i.Z,{mb:2,children:(0,v.jsxs)(g.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(g.ZP,{item:!0,lg:6,md:6,sm:12,xs:12}),(0,v.jsx)(g.ZP,{item:!0,lg:6,md:6,sm:12,xs:12})]})}),(0,v.jsx)(T.rU,{to:"/todo/list",children:(0,v.jsx)(u.Z,{variant:"outlined",color:"secondary",sx:{mr:2},type:"submit",children:"cancel"})}),(0,v.jsx)(u.Z,{color:"primary",variant:"contained",type:"submit",children:"save"})]})]}),(0,v.jsx)(w,{reloadTagList:this.reloadTagList,open:this.state.shouldOpenTagDialog,handleClose:this.handleTagDialogToggle})]})}}const A=(I=P,t=>{const e=(0,f.UO)(),a=(0,f.s0)();return(0,v.jsx)(I,{...t,params:e,navigate:a})});var I},81543:(t,e,a)=>{a.d(e,{HO:()=>c,IE:()=>i,Pe:()=>n,Pn:()=>p,aS:()=>r,qu:()=>o,rk:()=>d,x9:()=>h,yh:()=>l});var s=a(55294);const i=()=>s.Z.get("/api/todo/all"),o=t=>s.Z.get("/api/todo",{data:t}),n=t=>s.Z.post("/api/todo/reorder",{todoList:t}),d=t=>s.Z.post("/api/todo/add",{todo:t}),l=t=>s.Z.post("/api/todo/update",{todo:t}),r=t=>s.Z.post("/api/todo/delete",{todo:t}),h=()=>s.Z.get("/api/todo/tag"),c=t=>s.Z.post("/api/todo/tag/add",{tag:t}),p=t=>s.Z.post("/api/todo/tag/delete",{tag:t})},67384:(t,e,a)=>{a.d(e,{Z:()=>s});const s=a(18252).Z}}]);
//# sourceMappingURL=997.71835ba6.chunk.js.map