"use strict";(self.webpackChunkhttps_github_com_sulphitic786_profile=self.webpackChunkhttps_github_com_sulphitic786_profile||[]).push([[5192],{35192:(e,n,t)=>{t.r(n),t.d(n,{default:()=>R});var r=t(66934),s=t(57621),a=t(72791),i=t(57689),l=t(697),o=t(82880),c=t(93006),d=t(68096),x=t(88970),h=t(85523),m=t(61419),u=t(94721),p=t(56890),Z=t(35855),j=t(53994),g=t(53382),v=t(30916),f=t(16748),b=t(6429),y=t.n(b),w=t(38930),C=t(21521),S=t(80184);const k=(0,r.ZP)("h5")({fontSize:15}),N=(0,r.ZP)(v.hs)({justifyContent:"flex-end"}),P=(0,r.ZP)(l.Z)({display:"flex",justifyContent:"space-between","& .label":{height:32}}),z={id:"",vat:"",item:[],status:"",orderNo:"",currency:"",loading:!1,date:new Date,buyer:{name:"",address:""},seller:{name:"",address:""}},I=e=>{let{isNewInvoice:n,toggleInvoiceEditor:t}=e;const{id:r}=(0,i.UO)(),s=(0,i.s0)(),[b,I]=(0,a.useState)(!0),[W,R]=(0,a.useState)(z),$=e=>{e.persist(),R({...W,[e.target.name]:e.target.value})},_=(e,n)=>{e.persist(),R({...W,[n]:{...W[n],[e.target.name]:e.target.value}})},O=(e,n)=>{let t=[...W.item];t.forEach(((t,r)=>{n===r&&(t[e.target.name]=e.target.value)})),R({...W,item:t})};(0,a.useEffect)((()=>{n?R((e=>({...e,id:y().generate()}))):(0,w.m5)(r).then((e=>{let{data:n}=e;b&&R({...n})}))}),[r,n,b]),(0,a.useEffect)((()=>()=>I(!1)),[]);let M=0,{vat:E,buyer:F,seller:L,status:T,orderNo:U,loading:B,currency:G,item:A=[]}=W;return(0,S.jsx)(l.Z,{py:2,className:"invoice-viewer",children:(0,S.jsxs)("form",{onSubmit:()=>{R({...W,loading:!0});let e={...W};delete e.loading,n?(0,w.YP)(e).then((()=>{R({...W,loading:!1}),s("/invoice/".concat(W.id)),t()})):(0,w.aL)(e).then((()=>{R({...W,loading:!1}),t()}))},children:[(0,S.jsxs)(N,{mb:3,px:2,gap:2,className:"viewer_actions",children:[(0,S.jsx)(o.Z,{type:"button",variant:"text",onClick:()=>t(),children:"Cancel"}),(0,S.jsx)(o.Z,{type:"submit",color:"primary",variant:"contained",disabled:B,children:"Save"})]}),(0,S.jsxs)(P,{px:2,mb:2,className:"viewer__order-info",children:[(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(k,{sx:{mb:1},children:"Order Info"}),(0,S.jsx)(f.nv,{sx:{mb:2},children:"Order Number"}),(0,S.jsx)(c.Z,{fullWidth:!0,type:"text",name:"orderNo",value:U,label:"Order No.",onChange:$})]}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(d.Z,{component:"fieldset",sx:{mb:2,width:"100%"},children:(0,S.jsxs)(x.Z,{"aria-label":"status",name:"status",value:T,onChange:$,children:[(0,S.jsx)(h.Z,{value:"pending",label:"Pending",className:"label",labelPlacement:"start",control:(0,S.jsx)(m.Z,{color:"secondary"})}),(0,S.jsx)(h.Z,{className:"label",value:"processing",label:"Processing",labelPlacement:"start",control:(0,S.jsx)(m.Z,{color:"secondary"})}),(0,S.jsx)(h.Z,{className:"label",value:"delivered",label:"Delivered",labelPlacement:"start",control:(0,S.jsx)(m.Z,{color:"secondary"})})]})}),(0,S.jsx)(l.Z,{textAlign:"right",children:(0,S.jsx)(k,{sx:{fontWeight:"500"},children:(0,S.jsx)("strong",{children:"Order date: "})})})]})]}),(0,S.jsx)(u.Z,{}),(0,S.jsxs)(v.$9,{flexWrap:"nowrap",gap:2,px:2,mb:2,children:[(0,S.jsxs)(l.Z,{maxWidth:400,width:"100%",children:[(0,S.jsx)(k,{sx:{mb:"20px"},children:"Bill From"}),(0,S.jsx)(c.Z,{fullWidth:!0,name:"name",type:"text",sx:{mb:"20px"},label:"Seller Name",value:L?L.name:null,onChange:e=>_(e,"seller")}),(0,S.jsx)(c.Z,{rows:4,fullWidth:!0,type:"text",name:"address",multiline:!0,label:"Seller Name",value:L?L.address:null,onChange:e=>_(e,"seller")})]}),(0,S.jsxs)(l.Z,{maxWidth:400,width:"100%",children:[(0,S.jsx)(k,{sx:{mb:"20px"},children:"Bill To"}),(0,S.jsx)(c.Z,{fullWidth:!0,type:"text",name:"name",label:"Buyer Name",sx:{mb:"20px"},value:F?F.name:null,onChange:e=>_(e,"buyer")}),(0,S.jsx)(c.Z,{rows:4,fullWidth:!0,type:"text",name:"address",multiline:!0,label:"Buyer Address",value:F?F.address:null,onChange:e=>_(e,"buyer")})]})]}),(0,S.jsxs)(C.k,{children:[(0,S.jsx)(p.Z,{children:(0,S.jsxs)(Z.Z,{children:[(0,S.jsx)(j.Z,{children:"#"}),(0,S.jsx)(j.Z,{children:"Item Name"}),(0,S.jsx)(j.Z,{align:"center",children:"Unit Price"}),(0,S.jsx)(j.Z,{align:"center",children:"Unit"}),(0,S.jsx)(j.Z,{align:"center",children:"Cost"}),(0,S.jsx)(j.Z,{align:"center",children:"Action"})]})}),(0,S.jsx)(g.Z,{children:A.map(((e,n)=>(M+=e.price*e.unit,(0,S.jsxs)(Z.Z,{children:[(0,S.jsx)(j.Z,{align:"left",children:n+1}),(0,S.jsx)(j.Z,{align:"left",children:(0,S.jsx)(c.Z,{fullWidth:!0,type:"text",name:"name",size:"small",label:"Item Name",value:e?e.name:null,onChange:e=>O(e,n)})}),(0,S.jsx)(j.Z,{align:"center",children:(0,S.jsx)(c.Z,{fullWidth:!0,name:"price",size:"small",type:"number",label:"Item Price",value:e?e.price:null,onChange:e=>O(e,n),style:{maxWidth:100}})}),(0,S.jsx)(j.Z,{align:"center",children:(0,S.jsx)(c.Z,{fullWidth:!0,name:"unit",size:"small",type:"number",label:"Item Unit",value:e?e.unit:null,onChange:e=>O(e,n),style:{maxWidth:100}})}),(0,S.jsxs)(j.Z,{align:"center",children:["$",e.unit*e.price]}),(0,S.jsx)(j.Z,{align:"center",children:(0,S.jsx)(o.Z,{onClick:()=>(e=>{let n=[...W.item];n.splice(e,1),R({...W,item:n})})(n),children:"Delete"})})]},n))))})]}),(0,S.jsx)(N,{p:2,children:(0,S.jsx)(o.Z,{variant:"contained",onClick:()=>{let e=[...W.item];e.push({name:"",unit:"",price:""}),R({...W,item:e})},children:"Add Item"})}),(0,S.jsxs)(l.Z,{px:2,py:1,maxWidth:300,marginLeft:"auto",children:[(0,S.jsxs)(v.$9,{mb:2,children:[(0,S.jsx)(f.nv,{children:"Sub Total:"}),(0,S.jsxs)(f.nv,{children:["$",M]})]}),(0,S.jsxs)(v.$9,{mb:2,children:[(0,S.jsx)(f.nv,{flexGrow:1,children:"Vat(%):"}),(0,S.jsx)(c.Z,{name:"vat",label:"Vat",value:E,size:"small",type:"number",onChange:$,style:{maxWidth:100}})]}),(0,S.jsxs)(v.$9,{mb:2,children:[(0,S.jsx)(f.nv,{flexGrow:1,children:"currency:"}),(0,S.jsx)(c.Z,{type:"text",size:"small",name:"currency",label:"Currency",value:G,onChange:$,sx:{maxWidth:100}})]}),(0,S.jsxs)(v.$9,{children:[(0,S.jsx)(f.H5,{children:"Grand Total:"}),(0,S.jsxs)(f.H5,{children:["$",M+M*E/100]})]})]})]})})},W=(0,r.ZP)(s.Z)((e=>{let{theme:n}=e;return{margin:"30px",[n.breakpoints.down("sm")]:{margin:"16px"}}})),R=()=>{const{id:e}=(0,i.UO)(),[n,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),l=()=>{t(!n),s(!1)};return(0,a.useEffect)((()=>{"add"===e&&(t(!0),s(!0))}),[e]),(0,S.jsx)(W,{elevation:6,children:n?(0,S.jsx)(I,{toggleInvoiceEditor:l,isNewInvoice:r}):(0,S.jsx)(C.Z,{toggleInvoiceEditor:l})})}},38930:(e,n,t)=>{t.d(n,{Wu:()=>i,YP:()=>l,aL:()=>o,m5:()=>a,vA:()=>s});var r=t(55294);const s=()=>r.Z.get("/api/invoices/all"),a=e=>r.Z.get("/api/invoices",{data:e}),i=e=>r.Z.post("/api/invoices/delete",e),l=e=>r.Z.post("/api/invoices/add",e),o=e=>r.Z.post("/api/invoices/update",e)},21521:(e,n,t)=>{t.d(n,{Z:()=>k,k:()=>S});var r=t(66934),s=t(79836),a=t(697),i=t(13400),l=t(99875),o=t(82880),c=t(94721),d=t(56890),x=t(35855),h=t(53994),m=t(53382),u=t(30916),p=t(16748),Z=t(97812),j=t(72791),g=t(57689),v=t(11087),f=t(38930),b=t(80184);const y=(0,r.ZP)(u.$9)((()=>({paddingLeft:"16px",paddingRight:"16px",marginBottom:"20px",alignItems:"center","& button":{fontSize:"13px",textTransform:"capitalize"}}))),w=(0,r.ZP)("div")((()=>({textAlign:"right","& h5":{fontWeight:"500",textTransform:"capitalize"}}))),C=(0,r.ZP)(p.H5)((()=>({fontSize:15,"& span":{fontWeight:"normal"}}))),S=(0,r.ZP)(s.Z)((e=>{let{theme:n}=e;return{"& thead":{"& tr":{background:n.palette.background.default,"& th":{paddingLeft:0,paddingRight:0},"& th:first-of-type":{paddingLeft:"24px !important",[n.breakpoints.down("sm")]:{paddingLeft:"16px !important"}}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"},"& td:first-of-type":{paddingLeft:"24px !important",[n.breakpoints.down("sm")]:{paddingLeft:"16px !important"}}}}}})),k=e=>{let{toggleInvoiceEditor:n}=e;const{id:t}=(0,g.UO)(),[r,s]=(0,j.useState)({});(0,j.useEffect)((()=>{"add"!==t&&(0,f.m5)(t).then((e=>{s({...e.data})}))}),[t]);let k=0,{orderNo:N,buyer:P,seller:z,item:I=[],status:W,vat:R,date:$}=r;return(0,b.jsxs)(a.Z,{py:2,className:"invoice-viewer",children:[(0,b.jsxs)(y,{className:"viewer_actions",children:[(0,b.jsx)(v.rU,{to:"/invoice/list",children:(0,b.jsx)(i.Z,{children:(0,b.jsx)(l.Z,{children:"arrow_back"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Z,{sx:{mr:2,py:1},variant:"contained",color:"primary",onClick:()=>n(),children:"Edit Invoice"}),(0,b.jsx)(o.Z,{sx:{py:1},onClick:()=>window.print(),variant:"contained",color:"secondary",children:"Print Invoice"})]})]}),(0,b.jsxs)("div",{id:"print-area",children:[(0,b.jsxs)(u.$9,{px:2,mb:2,className:"viewer__order-info",children:[(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(C,{sx:{mb:1},children:"Order Info"}),(0,b.jsx)(p.nv,{sx:{mb:2},children:"Order Number"}),(0,b.jsxs)(p.nv,{children:["# ",N]})]}),(0,b.jsxs)(w,{children:[(0,b.jsxs)(C,{sx:{mb:1},children:[(0,b.jsx)("strong",{children:"Order status: "}),(0,b.jsx)("span",{children:W})]}),(0,b.jsxs)(C,{children:[(0,b.jsx)("strong",{children:"Order date: "}),(0,b.jsx)("span",{children:$?(0,Z.Z)(new Date($).getTime(),"MMMM dd, yyyy"):""})]})]})]}),(0,b.jsx)(c.Z,{}),(0,b.jsxs)(u.$9,{px:2,py:"20px",mb:2,className:"viewer__billing-info",children:[(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(C,{sx:{mb:1},children:"Bill From"}),(0,b.jsx)(p.nv,{sx:{mb:2},children:z?z.name:null}),(0,b.jsx)(p.nv,{sx:{whiteSpace:"pre"},children:z?z.address:null})]}),(0,b.jsxs)(a.Z,{width:"100%",textAlign:"right",children:[(0,b.jsx)(C,{sx:{mb:1},children:"Bill To"}),(0,b.jsx)(p.nv,{sx:{mb:2},children:P?P.name:null}),(0,b.jsx)(p.nv,{sx:{whiteSpace:"pre"},children:P?P.address:null})]})]}),(0,b.jsxs)(S,{children:[(0,b.jsx)(d.Z,{children:(0,b.jsxs)(x.Z,{children:[(0,b.jsx)(h.Z,{children:"#"}),(0,b.jsx)(h.Z,{align:"center",children:"Item Name"}),(0,b.jsx)(h.Z,{align:"center",children:"Unit Price"}),(0,b.jsx)(h.Z,{align:"center",children:"Unit"}),(0,b.jsx)(h.Z,{align:"center",children:"Cost"})]})}),(0,b.jsx)(m.Z,{children:I.map(((e,n)=>(k+=e.unit*e.price,(0,b.jsxs)(x.Z,{children:[(0,b.jsx)(h.Z,{align:"left",children:n+1}),(0,b.jsx)(h.Z,{align:"center",children:e.name}),(0,b.jsxs)(h.Z,{align:"center",children:["$",e.price]}),(0,b.jsx)(h.Z,{align:"center",children:e.unit}),(0,b.jsxs)(h.Z,{align:"center",children:["$",e.unit*e.price]})]},n))))})]}),(0,b.jsxs)(a.Z,{px:2,py:1,maxWidth:300,marginLeft:"auto",children:[(0,b.jsxs)(u.$9,{my:2,children:[(0,b.jsx)(p.nv,{children:"Sub Total:"}),(0,b.jsxs)(p.nv,{children:["$",k]})]}),(0,b.jsxs)(u.$9,{my:2,children:[(0,b.jsx)(p.nv,{children:"Vat(%):"}),(0,b.jsx)(p.nv,{children:R})]}),(0,b.jsxs)(u.$9,{children:[(0,b.jsx)(p.H5,{children:"Grand Total:"}),(0,b.jsxs)(p.H5,{children:["$",k+=k*R/100]})]})]})]})]})}},79012:(e,n,t)=>{t.d(n,{Z:()=>g});var r=t(63366),s=t(87462),a=t(72791),i=t(59278),l=t(94419),o=t(66934),c=t(31402),d=t(75878),x=t(21217);function h(e){return(0,x.ZP)("MuiFormGroup",e)}(0,d.Z)("MuiFormGroup",["root","row","error"]);var m=t(52930),u=t(76147),p=t(80184);const Z=["className","row"],j=(0,o.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.row&&n.row]}})((e=>{let{ownerState:n}=e;return(0,s.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},n.row&&{flexDirection:"row"})})),g=a.forwardRef((function(e,n){const t=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:a,row:o=!1}=t,d=(0,r.Z)(t,Z),x=(0,m.Z)(),g=(0,u.Z)({props:t,muiFormControl:x,states:["error"]}),v=(0,s.Z)({},t,{row:o,error:g.error}),f=(e=>{const{classes:n,row:t,error:r}=e,s={root:["root",t&&"row",r&&"error"]};return(0,l.Z)(s,h,n)})(v);return(0,p.jsx)(j,(0,s.Z)({className:(0,i.Z)(f.root,a),ownerState:v,ref:n},d))}))},88970:(e,n,t)=>{t.d(n,{Z:()=>m});var r=t(87462),s=t(63366),a=t(72791),i=t(79012),l=t(42071),o=t(98278),c=t(18672),d=t(67384),x=t(80184);const h=["actions","children","defaultValue","name","onChange","value"],m=a.forwardRef((function(e,n){const{actions:t,children:m,defaultValue:u,name:p,onChange:Z,value:j}=e,g=(0,s.Z)(e,h),v=a.useRef(null),[f,b]=(0,o.Z)({controlled:j,default:u,name:"RadioGroup"});a.useImperativeHandle(t,(()=>({focus:()=>{let e=v.current.querySelector("input:not(:disabled):checked");e||(e=v.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const y=(0,l.Z)(n,v),w=(0,d.Z)(p),C=a.useMemo((()=>({name:w,onChange(e){b(e.target.value),Z&&Z(e,e.target.value)},value:f})),[w,Z,b,f]);return(0,x.jsx)(c.Z.Provider,{value:C,children:(0,x.jsx)(i.Z,(0,r.Z)({role:"radiogroup",ref:y},g,{children:m}))})}))},18672:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t(72791).createContext(void 0)},61419:(e,n,t)=>{t.d(n,{Z:()=>W});var r=t(63366),s=t(87462),a=t(72791),i=t(59278),l=t(94419),o=t(12065),c=t(97278),d=t(31402),x=t(74223),h=t(80184);const m=(0,x.Z)((0,h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),u=(0,x.Z)((0,h.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var p=t(66934);const Z=(0,p.ZP)("span",{shouldForwardProp:p.FO})({position:"relative",display:"flex"}),j=(0,p.ZP)(m)({transform:"scale(1)"}),g=(0,p.ZP)(u)((e=>{let{theme:n,ownerState:t}=e;return(0,s.Z)({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})})}));const v=function(e){const{checked:n=!1,classes:t={},fontSize:r}=e,a=(0,s.Z)({},e,{checked:n});return(0,h.jsxs)(Z,{className:t.root,ownerState:a,children:[(0,h.jsx)(j,{fontSize:r,className:t.background,ownerState:a}),(0,h.jsx)(g,{fontSize:r,className:t.dot,ownerState:a})]})};var f=t(14036),b=t(31260),y=t(18672);var w=t(75878),C=t(21217);function S(e){return(0,C.ZP)("MuiRadio",e)}const k=(0,w.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),N=["checked","checkedIcon","color","icon","name","onChange","size","className"],P=(0,p.ZP)(c.Z,{shouldForwardProp:e=>(0,p.FO)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,"medium"!==t.size&&n["size".concat((0,f.Z)(t.size))],n["color".concat((0,f.Z)(t.color))]]}})((e=>{let{theme:n,ownerState:t}=e;return(0,s.Z)({color:(n.vars||n).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===t.color?n.vars.palette.action.activeChannel:n.vars.palette[t.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,o.Fq)("default"===t.color?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{["&.".concat(k.checked)]:{color:(n.vars||n).palette[t.color].main}},{["&.".concat(k.disabled)]:{color:(n.vars||n).palette.action.disabled}})}));const z=(0,h.jsx)(v,{checked:!0}),I=(0,h.jsx)(v,{}),W=a.forwardRef((function(e,n){var t,o;const c=(0,d.Z)({props:e,name:"MuiRadio"}),{checked:x,checkedIcon:m=z,color:u="primary",icon:p=I,name:Z,onChange:j,size:g="medium",className:v}=c,w=(0,r.Z)(c,N),C=(0,s.Z)({},c,{color:u,size:g}),k=(e=>{const{classes:n,color:t,size:r}=e,a={root:["root","color".concat((0,f.Z)(t)),"medium"!==r&&"size".concat((0,f.Z)(r))]};return(0,s.Z)({},n,(0,l.Z)(a,S,n))})(C),W=a.useContext(y.Z);let R=x;const $=(0,b.Z)(j,W&&W.onChange);let _=Z;var O,M;return W&&("undefined"===typeof R&&(O=W.value,R="object"===typeof(M=c.value)&&null!==M?O===M:String(O)===String(M)),"undefined"===typeof _&&(_=W.name)),(0,h.jsx)(P,(0,s.Z)({type:"radio",icon:a.cloneElement(p,{fontSize:null!=(t=I.props.fontSize)?t:g}),checkedIcon:a.cloneElement(m,{fontSize:null!=(o=z.props.fontSize)?o:g}),ownerState:C,classes:k,name:_,checked:R,onChange:$,ref:n,className:(0,i.Z)(k.root,v)},w))}))},31260:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t(78949).Z},67384:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t(18252).Z}}]);
//# sourceMappingURL=5192.ecc0256e.chunk.js.map