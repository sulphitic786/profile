"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[4310,8638],{4310:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var o=a(4535),n=a(6446),i=a(7392),s=a(4208),r=a(4692),l=a(4605),d=a(1962),c=a(7739),h=a(2143),p=a(3845),u=a(2788),m=a(8903),g=a(8977),x=a(8393),A=a(5212),v=a(5043),b=a(3216),f=a(5475),y=a(6240),j=a(35),C=a(2351),k=a(3288),S=a(9787),T=a(4701),w=a(579);const z=e=>{let{open:t,handleClose:a}=e;const[o,i]=(0,v.useState)(""),[s,r]=(0,v.useState)([]),[l,d]=(0,v.useState)(!0),c=(0,v.useCallback)((async()=>{let{data:e}=await(0,T.Ob)();l&&r(e)}),[l]);(0,v.useEffect)((()=>(c(),()=>d(!1))),[c]),(0,v.useEffect)((()=>()=>d(!1)),[]);const h=e=>{"Enter"===e.key?p():i(e.target.value)},p=async e=>{if(""!==o.trim()){let{data:e}=await(0,T.av)({id:(0,S.MZ)(),name:o.trim()});if(l){let t=[...s];t.push(e),r(t),i("")}}},{palette:m}=(0,y.A)(),x=m.error.main;return(0,w.jsx)(j.A,{onClose:a,open:t,maxWidth:"xs",children:(0,w.jsxs)(n.A,{px:2,py:3,children:[(0,w.jsxs)(C.pT,{alignItems:"center",children:[(0,w.jsx)(u.A,{value:o,size:"small",label:"New tag*",variant:"outlined",onChange:h,onKeyDown:h,sx:{flexGrow:1}}),(0,w.jsx)("div",{children:(0,w.jsx)(g.A,{onClick:p,variant:"contained",color:"primary",children:"Add"})})]}),(0,w.jsx)(n.A,{pt:2,children:s.map(((e,t)=>(0,w.jsxs)(C.Ao,{my:1,children:[(0,w.jsx)("span",{children:t+1}),(0,w.jsx)(k.L9,{sx:{textTransform:"capitalize"},children:e.name}),(0,w.jsx)(g.A,{onClickCapture:()=>(async e=>{if(await(0,T._R)({id:e,name:o}),l){let t=s.filter((t=>t.id!==e));r([...t])}})(e.id),variant:"contained",sx:{background:x},children:"Delete"})]},e.id)))}),(0,w.jsx)(n.A,{pt:2,textAlign:"right",children:(0,w.jsx)(g.A,{onClick:a,variant:"outlined",color:"secondary",children:"Close"})})]})})},D=(0,o.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",zIndex:2e3,background:"#fff",borderRadius:"4px",boxShadow:A.p[5],[t.breakpoints.down("sm")]:{margin:"16px"}}})),I=(0,o.Ay)(n.A)({display:"flex",flexWrap:"wrap",alignItems:"center"}),M=(0,o.Ay)(I)({paddingTop:"8px",paddingBottom:"8px",justifyContent:"space-between",background:"rgba(0, 0, 0, 0.01)"});class O extends v.Component{constructor(){super(...arguments),this.state={todo:{title:"",note:"",done:!1,read:!1,starred:!1,important:!1,startDate:new Date,dueDate:new Date,tag:[]},tagList:[],shouldOpenTagDialog:!1},this.addNewTodo=()=>{let e=this.state.tagList.length+1;(0,T.eW)({...this.state.todo,id:e}).then((()=>{this.props.navigate("/todo/list")}))},this.updateTodo=e=>{(0,T.g9)(e),this.setState({todo:{...this.state.todo,...e}})},this.reloadTagList=()=>{(0,T.Ob)().then((e=>{let{data:t}=e;this.setState({tagList:[...t]})}))},this.addTagInTodo=e=>{let{tag:t}=this.state.todo;t.includes(e)||(t.push(e),this.setState({todo:{...this.state.todo,tag:t}}))},this.handleTagDelete=e=>{let{tag:t=[]}=this.state.todo;t=t.filter((t=>t!==e)),this.setState({todo:{...this.state.todo,tag:[...t]}},(()=>(0,T.g9)({...this.state.todo})))},this.handleTodoDelete=()=>{(0,T.Ys)({...this.state.todo}).then((()=>{this.props.navigate("/todo/list")}))},this.handleChange=e=>{e.persist(),this.setState({todo:{...this.state.todo,[e.target.name]:e.target.value}})},this.handleDateChange=(e,t)=>{this.setState(this.setState({todo:{...this.state.todo,[e]:t}}))},this.handleSubmit=e=>{let{id:t}=this.props.params;"add"===t?this.addNewTodo():(0,T.g9)({...this.state.todo}).then((()=>{this.props.navigate("/todo/list")}))},this.handleTagDialogToggle=()=>{this.setState({shouldOpenTagDialog:!this.state.shouldOpenTagDialog})}}componentDidMount(){let{id:e}=this.props.params;(0,T.Ob)().then((t=>{let{data:a}=t;"add"!==e?(0,T.Nr)(e).then((e=>{let{data:t}=e;t?this.setState({todo:{...t},tagList:[...a]}):this.props.navigate("/todo/list")})):this.setState({tagList:a})}))}render(){let{title:e,note:t,done:a,read:o,starred:A,important:v,startDate:b,dueDate:y,tag:j=[]}=this.state.todo,{tagList:C}=this.state;return(0,w.jsxs)(D,{children:[(0,w.jsxs)(M,{children:[(0,w.jsxs)(I,{children:[(0,w.jsx)(f.N_,{to:"/todo/list",children:(0,w.jsx)(i.A,{children:(0,w.jsx)(s.A,{children:"arrow_back"})})}),(0,w.jsx)(r.A,{smDown:!0,children:(0,w.jsx)(l.A,{sx:{ml:1},onChange:()=>this.updateTodo({...this.state,done:!a}),control:(0,w.jsx)(d.A,{checked:a}),label:"Mark As ".concat(a?"Und":"D","one")})})]}),(0,w.jsxs)(n.A,{display:"flex",flexWrap:"wrap",children:[(0,w.jsx)(c.A,{title:"Mark As ".concat(o?"Unr":"R","ead"),fontSize:"large",children:(0,w.jsx)(i.A,{onClick:()=>this.updateTodo({...this.state,read:!o}),children:(0,w.jsx)(s.A,{children:o?"drafts":"markunread"})})}),(0,w.jsx)(c.A,{title:"Mark As ".concat(v?"Uni":"I","mportant"),fontSize:"large",children:(0,w.jsx)(i.A,{onClick:()=>this.updateTodo({...this.state,important:!v}),children:(0,w.jsx)(s.A,{color:v?"error":"inherit",children:v?"error":"error_outline"})})}),(0,w.jsx)(c.A,{title:"Mark As ".concat(A?"Uns":"S","tarred"),fontSize:"large",children:(0,w.jsx)(i.A,{onClick:()=>this.updateTodo({...this.state,starred:!A}),children:(0,w.jsx)(s.A,{color:A?"secondary":"inherit",children:A?"star":"star_outline"})})}),(0,w.jsx)(r.A,{smDown:!0,children:(0,w.jsx)(c.A,{title:"Manage tags",fontSize:"large",children:(0,w.jsx)(i.A,{onClick:this.handleTagDialogToggle,children:(0,w.jsx)(s.A,{children:"library_add"})})})}),(0,w.jsx)(x._I,{menuButton:(0,w.jsx)(c.A,{title:"Add tags",fontSize:"large",children:(0,w.jsx)(i.A,{children:(0,w.jsx)(s.A,{children:"label"})})}),children:this.state.tagList.map((e=>(0,w.jsx)(h.A,{sx:{textTransform:"capitalize"},onClick:()=>this.addTagInTodo(e.id),children:e.name},e.id)))}),(0,w.jsx)(c.A,{title:"Delete",fontSize:"large",children:(0,w.jsx)(i.A,{onClick:this.handleTodoDelete,children:(0,w.jsx)(s.A,{children:"delete_outline"})})})]})]}),(0,w.jsxs)(n.A,{p:2,children:[j.length?(0,w.jsx)(n.A,{mb:2,children:j.map((e=>{let t=(C.find((t=>t.id===e))||{}).name;return t?(0,w.jsx)(p.A,{label:t,onDelete:()=>this.handleTagDelete(e),sx:{mr:1,textTransform:"capitalize"}},e):null}))}):null,(0,w.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,w.jsx)(u.A,{fullWidth:!0,type:"text",name:"title",value:e,label:"Title*",onChange:this.handleChange,sx:{mb:2}}),(0,w.jsx)(u.A,{fullWidth:!0,type:"text",name:"note",value:t,multiline:!0,label:"Put your notes*",onChange:this.handleChange,sx:{mb:2}}),(0,w.jsx)(n.A,{mb:2,children:(0,w.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,w.jsx)(m.Ay,{item:!0,lg:6,md:6,sm:12,xs:12}),(0,w.jsx)(m.Ay,{item:!0,lg:6,md:6,sm:12,xs:12})]})}),(0,w.jsx)(f.N_,{to:"/todo/list",children:(0,w.jsx)(g.A,{variant:"outlined",color:"secondary",sx:{mr:2},type:"submit",children:"cancel"})}),(0,w.jsx)(g.A,{color:"primary",variant:"contained",type:"submit",children:"save"})]})]}),(0,w.jsx)(z,{reloadTagList:this.reloadTagList,open:this.state.shouldOpenTagDialog,handleClose:this.handleTagDialogToggle})]})}}const L=(N=O,e=>{const t=(0,b.g)(),a=(0,b.Zp)();return(0,w.jsx)(N,{...e,params:t,navigate:a})});var N},4701:(e,t,a)=>{a.d(t,{Nr:()=>i,Ob:()=>c,Ys:()=>d,_R:()=>p,av:()=>h,eW:()=>r,g9:()=>l,ms:()=>s,uZ:()=>n});var o=a(7154);const n=()=>o.A.get("/api/todo/all"),i=e=>o.A.get("/api/todo",{data:e}),s=e=>o.A.post("/api/todo/reorder",{todoList:e}),r=e=>o.A.post("/api/todo/add",{todo:e}),l=e=>o.A.post("/api/todo/update",{todo:e}),d=e=>o.A.post("/api/todo/delete",{todo:e}),c=()=>o.A.get("/api/todo/tag"),h=e=>o.A.post("/api/todo/tag/add",{tag:e}),p=e=>o.A.post("/api/todo/tag/delete",{tag:e})},1962:(e,t,a)=>{a.d(t,{A:()=>w});var o=a(8587),n=a(8168),i=a(5043),s=a(8387),r=a(8606),l=a(310),d=a(3064),c=a(6734),h=a(579);const p=(0,c.A)((0,h.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),u=(0,c.A)((0,h.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,c.A)((0,h.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var g=a(6803),x=a(2876),A=a(4535),v=a(7056),b=a(2400);function f(e){return(0,b.Ay)("MuiCheckbox",e)}const y=(0,v.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),j=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],C=(0,A.Ay)(d.A,{shouldForwardProp:e=>(0,A.ep)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.indeterminate&&t.indeterminate,t["size".concat((0,g.A)(a.size))],"default"!==a.color&&t["color".concat((0,g.A)(a.color))]]}})((e=>{let{theme:t,ownerState:a}=e;return(0,n.A)({color:(t.vars||t).palette.text.secondary},!a.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===a.color?t.vars.palette.action.activeChannel:t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)("default"===a.color?t.palette.action.active:t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&{["&.".concat(y.checked,", &.").concat(y.indeterminate)]:{color:(t.vars||t).palette[a.color].main},["&.".concat(y.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),k=(0,h.jsx)(u,{}),S=(0,h.jsx)(p,{}),T=(0,h.jsx)(m,{}),w=i.forwardRef((function(e,t){var a,l;const d=(0,x.A)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=k,color:p="primary",icon:u=S,indeterminate:m=!1,indeterminateIcon:A=T,inputProps:v,size:b="medium",className:y}=d,w=(0,o.A)(d,j),z=m?A:u,D=m?A:c,I=(0,n.A)({},d,{color:p,indeterminate:m,size:b}),M=(e=>{const{classes:t,indeterminate:a,color:o,size:i}=e,s={root:["root",a&&"indeterminate","color".concat((0,g.A)(o)),"size".concat((0,g.A)(i))]},l=(0,r.A)(s,f,t);return(0,n.A)({},t,l)})(I);return(0,h.jsx)(C,(0,n.A)({type:"checkbox",inputProps:(0,n.A)({"data-indeterminate":m},v),icon:i.cloneElement(z,{fontSize:null!=(a=z.props.fontSize)?a:b}),checkedIcon:i.cloneElement(D,{fontSize:null!=(l=D.props.fontSize)?l:b}),ownerState:I,ref:t,className:(0,s.A)(M.root,y)},w,{classes:M}))}))},1424:(e,t,a)=>{a.d(t,{A:()=>s,f:()=>i});var o=a(7056),n=a(2400);function i(e){return(0,n.Ay)("MuiListItemIcon",e)}const s=(0,o.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},8052:(e,t,a)=>{a.d(t,{A:()=>s,b:()=>i});var o=a(7056),n=a(2400);function i(e){return(0,n.Ay)("MuiListItemText",e)}const s=(0,o.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},2143:(e,t,a)=>{a.d(t,{A:()=>S});var o=a(8587),n=a(8168),i=a(5043),s=a(8387),r=a(8606),l=a(310),d=a(4535),c=a(2876),h=a(1347),p=a(6236),u=a(5013),m=a(5849),g=a(5658),x=a(1424),A=a(8052),v=a(7056),b=a(2400);function f(e){return(0,b.Ay)("MuiMenuItem",e)}const y=(0,v.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=a(579);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,d.Ay)(p.A,{shouldForwardProp:e=>(0,d.ep)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,n.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(y.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(y.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(y.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(y.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(y.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(g.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(g.A.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(x.A.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,n.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(x.A.root," svg")]:{fontSize:"1.25rem"}}))})),S=i.forwardRef((function(e,t){const a=(0,c.A)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:p=!1,divider:g=!1,disableGutters:x=!1,focusVisibleClassName:A,role:v="menuitem",tabIndex:b,className:y}=a,S=(0,o.A)(a,C),T=i.useContext(h.A),w=i.useMemo((()=>({dense:p||T.dense||!1,disableGutters:x})),[T.dense,p,x]),z=i.useRef(null);(0,u.A)((()=>{l&&z.current&&z.current.focus()}),[l]);const D=(0,n.A)({},a,{dense:w.dense,divider:g,disableGutters:x}),I=(e=>{const{disabled:t,dense:a,divider:o,disableGutters:i,selected:s,classes:l}=e,d={root:["root",a&&"dense",t&&"disabled",!i&&"gutters",o&&"divider",s&&"selected"]},c=(0,r.A)(d,f,l);return(0,n.A)({},l,c)})(a),M=(0,m.A)(z,t);let O;return a.disabled||(O=void 0!==b?b:-1),(0,j.jsx)(h.A.Provider,{value:w,children:(0,j.jsx)(k,(0,n.A)({ref:M,role:v,tabIndex:O,component:d,focusVisibleClassName:(0,s.A)(I.focusVisible,A),className:(0,s.A)(I.root,y)},S,{ownerState:D,classes:I}))})}))}}]);
//# sourceMappingURL=4310.1aadd74f.chunk.js.map