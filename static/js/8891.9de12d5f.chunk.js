"use strict";(self.webpackChunkhttps_github_com_sulphitic786_profile=self.webpackChunkhttps_github_com_sulphitic786_profile||[]).push([[8891],{18891:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var r=a(29867),s=a(93078),n=a(67075),o=a(65255),i=a(72274),l=a(87149),d=a(18976),c=a(60257),u=a(95193),p=a(30697),m=a(36436),h=a(28611),x=a(45226),v=a(6175),f=a(84670),g=a(38703),b=a(88386),y=a(50766),j=a(85537),Z=a(79324),w=a(90923),C=a(82395),S=a(60579),N=a(73479),k=a(92834);const P=(0,s.ZP)(n.Z)({marginBottom:16}),F=(0,s.ZP)(P)({minWidth:"100% !important","& label":{fontSize:"14px",textTransform:"capitalize"},"& label.MuiInputLabel-shrink":{marginTop:"0px"},"& .MuiOutlinedInput-root":{"& .MuiOutlinedInput-input":{fontSize:"14px",padding:"16px 14px !important",textTransform:"capitalize"}}}),U=N.Ry().shape({name:N.Z_().min(3,"Minimum 3 characters required!").required("Name is required!"),email:N.Z_().email().required("Email is required!"),phone:N.Z_().min(9).max(11).required("Phone is required!"),gender:N.Z_().required("Gender is required!"),password:N.Z_().min(6,"Minimum 6 letters required!").required("Password is required!")}),M=e=>{let{open:t,handleClose:a,addUpdateData:r,action:s,addUser:n,updateUser:o}=e,i={name:(null===r||void 0===r?void 0:r.name)||"",email:(null===r||void 0===r?void 0:r.email)||"",phone:(null===r||void 0===r?void 0:r.phone)||"",gender:(null===r||void 0===r?void 0:r.gender)||"",roles:(null===r||void 0===r?void 0:r.roles)||"",password:(null===r||void 0===r?void 0:r.password)||"",isActive:(null===r||void 0===r?void 0:r.isActive)||!0};const d=["male","female"],c=["admin","client","super admin"];return(0,k.jsx)(b.Z,{onClose:a,open:t,children:(0,k.jsxs)(y.Z,{p:3,children:[(0,k.jsx)(C.H4,{sx:{mb:"20px"},children:"update"==s?"Update User":"Add User"}),(0,k.jsx)(S.J9,{onSubmit:async e=>{"update"==s?o(e):n(e)},initialValues:i,validationSchema:U,children:e=>{let{values:t,errors:n,touched:o,handleChange:i,handleSubmit:u,handleBlur:p}=e;return(0,k.jsxs)("form",{onSubmit:u,children:[(0,k.jsxs)(j.ZP,{sx:{mb:"16px"},container:!0,spacing:4,children:[(0,k.jsxs)(j.ZP,{item:!0,sm:6,xs:12,children:[(0,k.jsx)(P,{fullWidth:!0,type:"text",name:"name",label:"Name",value:t.name,onBlur:p,onChange:i,helperText:o.name&&n.name,error:Boolean(n.name&&o.name)}),"add"==s?(0,k.jsx)(P,{fullWidth:!0,type:"text",name:"email",label:"Email",onBlur:p,value:t.email,onChange:i,helperText:o.email&&n.email,error:Boolean(n.email&&o.email)}):"",(0,k.jsx)(P,{fullWidth:!0,type:"text",name:"phone",label:"Phone",value:t.phone,onChange:i,onBlur:p,helperText:o.phone&&n.phone,error:Boolean(n.phone&&o.phone)}),(null===r||void 0===r?void 0:r.password)!==(null===t||void 0===t?void 0:t.password)&&"update"==s?(0,k.jsx)(P,{fullWidth:!0,type:"text",name:"currant_password",label:"Currant User's Password",value:t.currant_password,onChange:i}):""]}),(0,k.jsxs)(j.ZP,{item:!0,sm:6,xs:12,children:[(0,k.jsx)(F,{select:!0,label:"Gender",size:"small",id:"inputField",variant:"outlined",name:"gender",value:t.gender||"",onChange:i,children:null===d||void 0===d?void 0:d.map((e=>(0,k.jsx)(Z.Z,{value:e,children:e},e)))}),(0,k.jsx)(F,{select:!0,label:"Role",size:"small",id:"inputField",variant:"outlined",name:"roles",value:t.roles||[],onChange:i,children:null===c||void 0===c?void 0:c.map((e=>(0,k.jsx)(Z.Z,{value:e,children:e},e)))}),(0,k.jsx)(P,{fullWidth:!0,type:"text",name:"password",label:"Password",value:t.password,onChange:i,onBlur:p,helperText:o.password&&n.password,error:Boolean(n.password&&o.password)})]})]}),(0,k.jsxs)(w.Z,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,k.jsx)(l.Z,{variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,k.jsx)(l.Z,{variant:"outlined",color:"secondary",onClick:()=>a(),children:"Cancel"})]})]})}})]})})},_=(0,s.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),T=(0,s.ZP)("small")((e=>{let{bgcolor:t}=e;return{height:20,width:60,color:"#fff",padding:"3px 8px",textAlign:"center",borderRadius:"4px",overflow:"hidden",background:t,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}})),O=e=>{let{filterText:t,onFilter:a}=e;return(0,k.jsx)(n.Z,{placeholder:"Search Input",label:"Quick Search",value:t,onChange:a,id:"search",className:""})},B=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,b]=(0,r.useState)(""),[y,j]=(0,r.useState)(""),[Z,w]=(0,r.useState)(""),[C,S]=(0,r.useState)(!1),[N,P]=(0,r.useState)(!1),{showAlert:F}=(0,g.V)();(0,r.useEffect)((()=>{D()}),[]);const U=()=>{S(!1),P(!1)},B=(e,t)=>{j(t),w(e),S(!0)},D=async()=>{try{s(!0);const e=(await(0,h.PL)((0,h.hJ)(v.DU,"users"))).docs.map((e=>({id:e.id,...e.data()})));s(!1),t(e),console.log("dataFromFirebase",e),F("success","Data fetch successfully.")}catch(e){s(!1),F("error","Error while fetching data."),console.error("Error fetching data:",e)}},I=((0,f.s0)(),[{name:"Name",sortable:!0,minWidth:"100px",sortField:"name",selector:e=>e.name,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:e.name})})},{name:"Phone",sortable:!0,minWidth:"100px",sortField:"phone",selector:e=>e.phone,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:e.phone})})},{name:"Email",sortable:!0,minWidth:"180px",sortField:"email",selector:e=>e.email,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:e.email})})},{name:"Role",sortable:!0,minWidth:"100px",sortField:"role",selector:e=>e.roles,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:e.roles})})},{name:"Gender",sortable:!0,minWidth:"100px",sortField:"gender",selector:e=>e.gender,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:e.gender})})},{name:"Status",sortable:!0,minWidth:"100px",sortField:"status",selector:e=>e.status,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)(T,{bgcolor:(0,m.$_)(e.isActive?"lightSuccess":"lightError"),children:e.isActive?"Active":"Inactive"})})},{name:"Password",sortable:!0,minWidth:"100px",sortField:"password",selector:e=>e.password,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:e.password})})},{name:"Date",sortable:!0,minWidth:"100px",sortField:"date",selector:e=>null===e||void 0===e?void 0:e.created_at,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-left align-items-center ",children:(0,k.jsx)("div",{className:"d-flex flex-column",children:(0,m.Mu)(e.created_at)})})},{name:"Action",sortable:!0,minWidth:"100px",sortField:"date",selector:e=>e,cell:e=>(0,k.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,k.jsxs)("div",{className:"d-flex ",children:[(0,k.jsx)(o.Z,{title:"Edit/Update User",children:(0,k.jsx)(i.Z,{onClick:()=>B("update",e),color:"success",fontSize:"small",style:{cursor:"pointer"},children:"edit"})}),(0,k.jsx)(o.Z,{title:"Delete Request",children:(0,k.jsx)(i.Z,{onClick:()=>{return t=e,console.log("model open",t),j(t),void P(!0);var t},color:"error",fontSize:"small",style:{cursor:"pointer"},children:"delete_forever"})})]})})}]);if(e)var q=e.filter((e=>JSON.stringify(e).toLowerCase().includes(n.toLowerCase())));return(0,k.jsxs)(_,{children:[a&&(0,k.jsx)(c.Wx,{}),(0,k.jsx)("div",{className:"breadcrumb",children:(0,k.jsx)(c.aG,{routeSegments:[{name:"Pages",path:"/pages"},{name:"contact-us-list"}]})}),(0,k.jsx)(d.Z,{sx:{width:"100%",overflowX:"scroll"},children:(0,k.jsx)(u.ZP,{responsive:!0,striped:!0,highlightOnHover:!0,persistTableHead:!0,subHeader:!0,fixedHeader:!0,fixedHeaderScrollHeight:"50vh",columns:I,data:q,className:"react-dataTable",pagination:!0,subHeaderComponent:(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"mt-1",style:{width:"-webkit-fill-available"},children:[(0,k.jsx)(l.Z,{color:"primary",variant:"contained",sx:{mt:"6px !important"},style:{float:"left"},onClick:()=>B("add"),children:"+ Add New User"}),(0,k.jsx)(O,{className:"justify-content-end",onFilter:e=>b(e.target.value),filterText:n})]})}),paginationPerPage:250,paginationRowsPerPageOptions:[25,50,75,100]})}),C&&(0,k.jsx)(M,{action:Z,addUpdateData:y,open:C,handleClose:U,addUser:async e=>{try{s(!0);const t=(0,x.v0)(),a=(await(0,x.Xb)(t,e.email,e.password)).user.uid,r={...e,created_at:new Date,updated_at:new Date,user_id:a};await(0,h.ET)((0,h.hJ)(v.DU,"users"),r),F("success","User added successfully."),s(!1),D(),U()}catch(t){s(!1),F("error","Error while adding user."),console.error("Error adding user to Firebase:",t)}},updateUser:async e=>{console.log("currentUser",y,"userData",e);try{s(!0);const t=(0,x.v0)(),a=t.currentUser.email,r={...e,updated_at:new Date},n=x.w9.credential(a,e.currant_password);e.password!==y.password?(console.log("password update"),await(0,x.aF)(t.currentUser,n),await(0,x.gQ)(t.currentUser,e.password),await(0,h.r7)((0,h.JU)(v.DU,"users",y.id),r)):(console.log("user update"),await(0,h.r7)((0,h.JU)(v.DU,"users",y.id),r)),F("success","User updated successfully."),U(),s(!1),D()}catch(t){s(!1),F("error","Error while updating user."),console.error("Error updating user:",t)}}}),N&&(0,k.jsx)(p.Z,{text:"Are you sure to delete?",open:N,onConfirmDialogClose:U,onYesClick:async()=>{try{s(!0),await(0,h.oe)((0,h.JU)(v.DU,"users",y.id)),F("success","Data deleted successfully."),P(!1),s(!1),D()}catch(e){s(!1),F("error","Error while deleting request."),console.error("Error deleting data from Firebase:",e)}}})]})}},80925:(e,t,a)=>{a.d(t,{Z:()=>o,f:()=>n});var r=a(15157),s=a(93845);function n(e){return(0,s.ZP)("MuiListItemIcon",e)}const o=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},80655:(e,t,a)=>{a.d(t,{L:()=>n,Z:()=>o});var r=a(15157),s=a(93845);function n(e){return(0,s.ZP)("MuiListItemText",e)}const o=(0,r.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},79324:(e,t,a)=>{a.d(t,{Z:()=>S});var r=a(63366),s=a(87462),n=a(29867),o=a(27713),i=a(36020),l=a(57237),d=a(93078),c=a(57090),u=a(23527),p=a(83422),m=a(31847),h=a(47808),x=a(78649),v=a(80925),f=a(80655),g=a(15157),b=a(93845);function y(e){return(0,b.ZP)("MuiMenuItem",e)}const j=(0,g.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Z=a(92834);const w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,d.ZP)(p.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(x.Z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(x.Z.inset)]:{marginLeft:52},["& .".concat(f.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(f.Z.inset)]:{paddingLeft:36},["& .".concat(v.Z.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,s.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(v.Z.root," svg")]:{fontSize:"1.25rem"}}))})),S=n.forwardRef((function(e,t){const a=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:p=!1,divider:x=!1,disableGutters:v=!1,focusVisibleClassName:f,role:g="menuitem",tabIndex:b,className:j}=a,S=(0,r.Z)(a,w),N=n.useContext(u.Z),k=n.useMemo((()=>({dense:p||N.dense||!1,disableGutters:v})),[N.dense,p,v]),P=n.useRef(null);(0,m.Z)((()=>{l&&P.current&&P.current.focus()}),[l]);const F=(0,s.Z)({},a,{dense:k.dense,divider:x,disableGutters:v}),U=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:n,selected:o,classes:l}=e,d={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",o&&"selected"]},c=(0,i.Z)(d,y,l);return(0,s.Z)({},l,c)})(a),M=(0,h.Z)(P,t);let _;return a.disabled||(_=void 0!==b?b:-1),(0,Z.jsx)(u.Z.Provider,{value:k,children:(0,Z.jsx)(C,(0,s.Z)({ref:M,role:g,tabIndex:_,component:d,focusVisibleClassName:(0,o.Z)(U.focusVisible,f),className:(0,o.Z)(U.root,j)},S,{ownerState:F,classes:U}))})}))},90923:(e,t,a)=>{a.d(t,{Z:()=>N});var r=a(63366),s=a(87462),n=a(29867),o=a(40366),i=a(32201),l=a(36020),d=a(93845);const c=(0,a(1248).ZP)();var u=a(55287),p=a(68160),m=a(58708),h=a(25361),x=a(15246),v=a(92834);const f=["component","direction","spacing","divider","children","className","useFlexGap"],g=(0,m.Z)(),b=c("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function y(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:g})}function j(e,t){const a=n.Children.toArray(e).filter(Boolean);return a.reduce(((e,r,s)=>(e.push(r),s<a.length-1&&e.push(n.cloneElement(t,{key:"separator-".concat(s)})),e)),[])}const Z=e=>{let{ownerState:t,theme:a}=e,r=(0,s.Z)({display:"flex",flexDirection:"column"},(0,h.k9)({theme:a},(0,h.P$)({values:t.direction,breakpoints:a.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,x.hB)(a),s=Object.keys(a.breakpoints.values).reduce(((e,a)=>(("object"===typeof t.spacing&&null!=t.spacing[a]||"object"===typeof t.direction&&null!=t.direction[a])&&(e[a]=!0),e)),{}),n=(0,h.P$)({values:t.direction,base:s}),o=(0,h.P$)({values:t.spacing,base:s});"object"===typeof n&&Object.keys(n).forEach(((e,t,a)=>{if(!n[e]){const r=t>0?n[a[t-1]]:"column";n[e]=r}}));const l=(a,r)=>{return t.useFlexGap?{gap:(0,x.NA)(e,a)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((s=r?n[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s]))]:(0,x.NA)(e,a)}};var s};r=(0,i.Z)(r,(0,h.k9)({theme:a},o,l))}return r=(0,h.dt)(a.breakpoints,r),r};var w=a(93078),C=a(57090);const S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=b,useThemeProps:a=y,componentName:i="MuiStack"}=e,c=t(Z),u=n.forwardRef((function(e,t){const n=a(e),u=(0,p.Z)(n),{component:m="div",direction:h="column",spacing:x=0,divider:g,children:b,className:y,useFlexGap:Z=!1}=u,w=(0,r.Z)(u,f),C={direction:h,spacing:x,useFlexGap:Z},S=(0,l.Z)({root:["root"]},(e=>(0,d.ZP)(i,e)),{});return(0,v.jsx)(c,(0,s.Z)({as:m,ownerState:C,ref:t,className:(0,o.Z)(S.root,y)},w,{children:g?j(b,g):b}))}));return u}({createStyledComponent:(0,w.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,C.Z)({props:e,name:"MuiStack"})}),N=S}}]);
//# sourceMappingURL=8891.9de12d5f.chunk.js.map