"use strict";(self.webpackChunkhttps_github_com_sulphitic786_profile=self.webpackChunkhttps_github_com_sulphitic786_profile||[]).push([[2753],{52731:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(93078),i=a(92834);const n=(0,r.ZP)("div")((()=>({height:"100%",display:"flex",position:"relative"}))),o=e=>{let{children:t}=e;return(0,i.jsx)(n,{children:t})}},74302:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(93078),i=a(92834);const n=(0,r.ZP)("div")((()=>({flexGrow:1,height:"100%",position:"relative"}))),o=e=>{let{children:t}=e;return(0,i.jsx)(n,{children:t})}},2753:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var r=a(93078),i=a(2689),n=a(10301),o=a(50766),s=a(94828),c=a(74268),l=a(65880),d=a(52731),p=a(74302),u=a(29867),h=a(79324),m=a(34850),x=a(59346),g=a(72274),v=a(35226),b=a(67075),Z=a(17501),f=a(43186),j=a(67888),y=a(59881),w=a(82395),C=a(36436),k=a(2123),S=a.n(k),I=a(47160),P=a.n(I),z=a(56101),M=a(92834);const R=(0,r.ZP)(j.Kl)((e=>{let{theme:t}=e;return{width:220,height:220,overflow:"hidden",borderRadius:"300px",boxShadow:z.v[6],background:t.palette.background.default,"& span":{fontSize:"4rem"}}})),F=()=>(0,M.jsx)(R,{children:(0,M.jsx)(g.Z,{color:"primary",children:"chat"})}),L=(0,r.ZP)(o.Z)((()=>({height:450,display:"flex",position:"relative",flexDirection:"column",background:"rgba(0, 0, 0, 0.05)"}))),N=(0,r.ZP)(j.$9)((e=>{let{theme:t}=e;return{padding:"4px",background:t.palette.primary.main}})),O=(0,r.ZP)("h5")((()=>({color:"#fff",fontSize:"18px",fontWeight:"500",whiteSpace:"pre",marginLeft:"16px"}))),T=(0,r.ZP)("div")((e=>{let{theme:t,userId:a,contactId:r}=e;return{padding:"8px 16px",marginBottom:"8px",borderRadius:"4px",color:a===r&&"#fff",background:a===r?t.palette.primary.main:t.palette.background.paper}})),V=(0,r.ZP)(h.Z)((()=>({display:"flex",alignItems:"center","& .icon":{marginRight:"16px"}}))),_=(0,r.ZP)(S())((()=>({flexGrow:1,position:"relative"}))),D=(0,r.ZP)(j.Kl)((()=>({flexGrow:1,height:"100%",flexDirection:"column"}))),B=(0,r.ZP)("div")((()=>({display:"flex",alignItems:"flex-start",padding:"12px 16px"}))),G=e=>{let{id:t,toggleSidenav:a,currentChatRoom:r,opponentUser:n,messageList:s=[],handleMessageSend:c}=e;const[l,d]=(0,u.useState)(""),p=(0,i.Z)().palette.text.secondary;return(0,M.jsxs)(L,{children:[(0,M.jsxs)(N,{children:[(0,M.jsxs)(o.Z,{display:"flex",alignItems:"center",children:[(0,M.jsx)(m.Z,{mdUp:!0,children:(0,M.jsx)(x.Z,{size:"large",onClick:a,children:(0,M.jsx)(g.Z,{sx:{color:"#fff"},children:"short_text"})})}),(0,M.jsx)(m.Z,{smDown:!0,children:(0,M.jsx)(o.Z,{pl:"12px"})}),n&&(0,M.jsxs)(u.Fragment,{children:[(0,M.jsx)(f.Z,{src:n.avatar,status:n.status}),(0,M.jsx)(O,{children:n.name})]})]}),(0,M.jsxs)(y.Z,{menuButton:(0,M.jsx)(x.Z,{size:"large",children:(0,M.jsx)(g.Z,{sx:{color:"#fff"},children:"more_vert"})}),children:[(0,M.jsxs)(V,{children:[(0,M.jsx)(g.Z,{className:"icon",children:"account_circle"})," Contact"]}),(0,M.jsxs)(V,{children:[(0,M.jsx)(g.Z,{className:"icon",children:"volume_mute"})," Mute"]}),(0,M.jsxs)(V,{children:[(0,M.jsx)(g.Z,{className:"icon",children:"delete"})," Clear Chat"]})]})]}),(0,M.jsxs)(_,{id:"chat-message-list",children:[""===r&&(0,M.jsxs)(D,{children:[(0,M.jsx)(F,{}),(0,M.jsx)("p",{children:"Select a contact"})]}),s.map(((e,a)=>(0,M.jsxs)(B,{children:[(0,M.jsx)(f.Z,{src:e.avatar,status:e.status}),(0,M.jsxs)(o.Z,{ml:2,children:[(0,M.jsx)(w.nv,{sx:{m:0,mb:1,color:p},children:e.name}),(0,M.jsx)(T,{userId:t,contactId:e.contactId,children:(0,M.jsx)(w.Dr,{sx:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.text})}),(0,M.jsxs)(w.x4,{sx:{m:0,color:p},children:[(0,C.FU)(new Date(e.time))," ago"]})]})]},P().generate())))]}),(0,M.jsx)(v.Z,{}),""!==r&&(0,M.jsxs)(o.Z,{px:2,py:1,display:"flex",alignItems:"center",children:[(0,M.jsx)(b.Z,{rows:1,fullWidth:!0,value:l,multiline:!0,variant:"outlined",onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey){let e=l.trim();""!==e&&c(e),d("")}},label:"Type your message here*",onChange:e=>d(e.target.value)}),(0,M.jsx)("div",{children:(0,M.jsx)(Z.Z,{onClick:()=>{""!==l.trim()&&c(l),d("")},color:"primary",sx:{ml:2},children:(0,M.jsx)(g.Z,{children:"send"})})})]})]})};var U=a(90625);const W=e=>U.Z.get("/api/chat/contacts",{data:e}),H=e=>U.Z.post("/api/chat/add",e);var q=a(23022);const K=(0,r.ZP)("div")((e=>{let{theme:t}=e;return{height:450,borderRight:"1px solid rgba(0, 0, 0, 0.08)",background:t.palette.background.default}})),E=(0,r.ZP)(S())((()=>({height:"100%",position:"relative"}))),A=(0,r.ZP)("div")((e=>{let{theme:t}=e;return{height:56,display:"flex",paddingLeft:"16px",paddingRight:"16px",alignItems:"center",background:t.palette.primary.main}})),Y=(0,r.ZP)("h5")((()=>({color:"#fff",marginBottom:0,fontSize:"18px",fontWeight:"500",whiteSpace:"pre",marginLeft:"16px"}))),$=(0,r.ZP)("div")((()=>({padding:"16px",display:"flex",cursor:"pointer",alignItems:"center",transition:"background 250ms ease","&:hover":{background:"rgba(0, 0, 0, 0.054)"}}))),J=e=>{let{currentUser:t,contactList:a=[],handleContactClick:r,recentContactList:n=[]}=e;const s=(0,i.Z)().palette.text.secondary;return(0,M.jsxs)(K,{children:[(0,M.jsxs)(A,{children:[(0,M.jsx)(f.Z,{src:t.avatar,status:t.status}),(0,M.jsx)(Y,{children:t.name})]}),(0,M.jsxs)(E,{children:[n.map(((e,t)=>(0,M.jsxs)($,{onClick:()=>r(e.id),children:[(0,M.jsx)(f.Z,{src:e.avatar,status:e.status}),(0,M.jsxs)(o.Z,{pl:2,children:[(0,M.jsx)(w.nv,{sx:{m:"0"},children:e.name}),(0,M.jsx)(w.nv,{sx:{m:0,color:s},children:(0,q.Z)(new Date(e.lastChatTime).getTime(),"MMMM dd, yyyy")})]})]},t))),(0,M.jsx)(v.Z,{}),a.map(((e,t)=>(0,M.jsxs)($,{sx:{padding:"4px 16px"},onClick:()=>r(e.id),children:[(0,M.jsx)(f.Z,{src:e.avatar,status:e.status}),(0,M.jsx)(o.Z,{pl:2,children:(0,M.jsx)("p",{children:e.name})})]},t)))]})]})},Q=(0,r.ZP)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}})),X=()=>{const e=document.querySelector("#chat-message-list"),[t,a]=(0,u.useState)(!0),[r,h]=(0,u.useState)({id:"7863a6802ez0e277a0f98534"}),[m,x]=(0,u.useState)(null),[g,v]=(0,u.useState)(""),[b,Z]=(0,u.useState)([]),[f,j]=(0,u.useState)([]),[y,w]=(0,u.useState)([]),C=(0,u.useRef)(r),k=(0,i.Z)(),S=(0,n.Z)(k.breakpoints.down("sm")),I=(0,u.useCallback)((()=>{let{id:e}=C.current;(e=>U.Z.get("/api/chat/contacts/recent",{data:e}))(e).then((e=>{j(e.data)}))}),[]);(0,u.useEffect)((()=>{let{id:e}=C.current;var t;W(e).then((e=>{a(S),h({...e.data})})),(t=r.id,U.Z.get("/api/chat/contacts/all",{data:t})).then((e=>Z(e.data))),I()}),[S,r.id,I]);const P=()=>{e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},z=()=>a(!t);return(0,M.jsxs)(Q,{children:[(0,M.jsx)(o.Z,{className:"breadcrumb",children:(0,M.jsx)(c.Z,{routeSegments:[{name:"Chat"}]})}),(0,M.jsx)(s.Z,{elevation:6,children:(0,M.jsxs)(d.Z,{children:[(0,M.jsx)(l.Z,{width:"230px",open:t,toggleSidenav:z,children:(0,M.jsx)(J,{currentUser:r,contactList:b,recentContactList:f,handleContactClick:e=>{S&&z(),W(e).then((e=>{let{data:t}=e;x({...t})})),((e,t)=>U.Z.get("/api/chat/chat-room",{data:{currentUser:e,contactId:t}}))(r.id,e).then((e=>{let{data:t}=e,{chatId:a,messageList:r,recentListUpdated:i}=t;v(a),w(r),P(),i&&I()}))}})}),(0,M.jsx)(p.Z,{children:(0,M.jsx)(G,{id:null===r||void 0===r?void 0:r.id,opponentUser:m,messageList:y,currentChatRoom:g,handleMessageSend:e=>{let{id:t}=r;""!==g&&(H({chatId:g,text:e,contactId:t,time:new Date}).then((e=>{w([...e.data]),P()})),setTimeout((()=>{H({chatId:g,text:"Hi, I'm ".concat(m.name,". Your imaginary friend."),contactId:m.id,time:new Date}).then((e=>{w([...e.data]),P()}))}),750))},toggleSidenav:z})})]})})]})}},17501:(e,t,a)=>{a.d(t,{Z:()=>Z});var r=a(63366),i=a(87462),n=a(29867),o=a(27713),s=a(36020),c=a(83422),l=a(36892),d=a(57090),p=a(15157),u=a(93845);function h(e){return(0,u.ZP)("MuiFab",e)}const m=(0,p.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var x=a(93078),g=a(92834);const v=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],b=(0,x.ZP)(c.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,x.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat((0,l.Z)(a.size))],"inherit"===a.color&&t.colorInherit,t[(0,l.Z)(a.size)],t[a.color]]}})((e=>{let{theme:t,ownerState:a}=e;var r,n;return(0,i.Z)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(n=t.palette).getContrastText)?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(m.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:a}=e;return(0,i.Z)({},"inherit"!==a.color&&"default"!==a.color&&null!=(t.vars||t).palette[a.color]&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}})}),(e=>{let{theme:t}=e;return{["&.".concat(m.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),Z=n.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiFab"}),{children:n,className:c,color:p="default",component:u="button",disabled:m=!1,disableFocusRipple:x=!1,focusVisibleClassName:Z,size:f="large",variant:j="circular"}=a,y=(0,r.Z)(a,v),w=(0,i.Z)({},a,{color:p,component:u,disabled:m,disableFocusRipple:x,size:f,variant:j}),C=(e=>{const{color:t,variant:a,classes:r,size:n}=e,o={root:["root",a,"size".concat((0,l.Z)(n)),"inherit"===t?"colorInherit":t]},c=(0,s.Z)(o,h,r);return(0,i.Z)({},r,c)})(w);return(0,g.jsx)(b,(0,i.Z)({className:(0,o.Z)(C.root,c),component:u,disabled:m,focusRipple:!x,focusVisibleClassName:(0,o.Z)(C.focusVisible,Z),ownerState:w,ref:t},y,{classes:C,children:n}))}))},80925:(e,t,a)=>{a.d(t,{Z:()=>o,f:()=>n});var r=a(15157),i=a(93845);function n(e){return(0,i.ZP)("MuiListItemIcon",e)}const o=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},80655:(e,t,a)=>{a.d(t,{L:()=>n,Z:()=>o});var r=a(15157),i=a(93845);function n(e){return(0,i.ZP)("MuiListItemText",e)}const o=(0,r.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},79324:(e,t,a)=>{a.d(t,{Z:()=>k});var r=a(63366),i=a(87462),n=a(29867),o=a(27713),s=a(36020),c=a(57237),l=a(93078),d=a(57090),p=a(23527),u=a(83422),h=a(31847),m=a(47808),x=a(78649),g=a(80925),v=a(80655),b=a(15157),Z=a(93845);function f(e){return(0,Z.ZP)("MuiMenuItem",e)}const j=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var y=a(92834);const w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,l.ZP)(u.Z,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,i.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(x.Z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(x.Z.inset)]:{marginLeft:52},["& .".concat(v.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(v.Z.inset)]:{paddingLeft:36},["& .".concat(g.Z.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(g.Z.root," svg")]:{fontSize:"1.25rem"}}))})),k=n.forwardRef((function(e,t){const a=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:u=!1,divider:x=!1,disableGutters:g=!1,focusVisibleClassName:v,role:b="menuitem",tabIndex:Z,className:j}=a,k=(0,r.Z)(a,w),S=n.useContext(p.Z),I=n.useMemo((()=>({dense:u||S.dense||!1,disableGutters:g})),[S.dense,u,g]),P=n.useRef(null);(0,h.Z)((()=>{c&&P.current&&P.current.focus()}),[c]);const z=(0,i.Z)({},a,{dense:I.dense,divider:x,disableGutters:g}),M=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:n,selected:o,classes:c}=e,l={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",o&&"selected"]},d=(0,s.Z)(l,f,c);return(0,i.Z)({},c,d)})(a),R=(0,m.Z)(P,t);let F;return a.disabled||(F=void 0!==Z?Z:-1),(0,y.jsx)(p.Z.Provider,{value:I,children:(0,y.jsx)(C,(0,i.Z)({ref:R,role:b,tabIndex:F,component:l,focusVisibleClassName:(0,o.Z)(M.focusVisible,v),className:(0,o.Z)(M.root,j)},k,{ownerState:z,classes:M}))})}))}}]);
//# sourceMappingURL=2753.77ffd1bb.chunk.js.map